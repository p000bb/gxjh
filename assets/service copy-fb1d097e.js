import{v as i,d as o,G as u,H as m,J as g}from"./admin-d15e446e.js";import{g as b}from"./el-button-534f93ec.js";function n(){u().logout(),location.reload()}function f(){const a=i.create();return a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>{var c;const s=e.data,t=(c=e.request)==null?void 0:c.responseType;if(t==="blob"||t==="arraybuffer")return s;const r=s.code;if(r===void 0)return o.error("非本系统的接口"),Promise.reject(new Error("非本系统的接口"));switch(r){case 0:return s;case 401:return n();default:return o.error(s.message||s.msg||"Error"),Promise.reject(new Error("Error"))}},e=>{switch(b(e,"response.status")){case 400:e.message="请求错误";break;case 401:n();break;case 403:e.message="拒绝访问";break;case 404:e.message="请求地址出错";break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP 版本不受支持";break}return o.error(e.message),Promise.reject(e)}),a}function k(a){return function(e){const s=m(),t={headers:{Authorization:s?`Bearer ${s}`:void 0,"Content-Type":"application/json"},timeout:5e4,baseURL:"gxjh-admin",data:{}},r=g(t,e);return a(r)}}const p=f(),j=k(p);export{j as r};
