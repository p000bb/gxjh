import{L as U}from"./el-button-534f93ec.js";/* empty css                   */import{E as F,a as I}from"./el-col-af40c86f.js";/* empty css                */import{d as P,f as R,n as M,o as Q}from"./admin-d15e446e.js";import{E as c,a as W}from"./el-link-b795f2cd.js";import{d as $,r as n,k as e,ay as r,F as q,o as A,v as d,y as G,A as j,B as i,C as _,D as k,I as H,E as J}from"./viewer-71a6cc7b.js";import{d as K,_ as O,g as X}from"./dataDialog.vuevuetypescriptsetuptruelang-15894bd4.js";import{a as Y}from"./index-b7dce1f7.js";import{v as Z}from"./directive-44e37452.js";import"./el-popper-5f9a363e.js";import"./debounce-e240d589.js";import"./index-07157569.js";import"./vnode-d45677e0.js";import"./aria-bc8e8b0f.js";import"./el-overlay-56edc591.js";import"./refs-45d3232c.js";import"./el-radio-2d139b26.js";import"./el-tree-select-4038975f.js";import"./index-c21c62e8.js";import"./index-b59c1af4.js";import"./service copy-fb1d097e.js";import"./index-d81ecfdd.js";import"./index-71e570d3.js";const ee={class:"container-main"},ae={class:"table-main"},Ce=$({__name:"index",setup(te){const l=n({pageNum:1,pageSize:10}),y=n(!0),p=n(!1),f=n([]),m=n(0),h=()=>{l.value={pageNum:1,pageSize:10},s()},w=()=>{s()},s=async()=>{p.value=!0,X(l.value).then(a=>{f.value=Y(a.data.list)||[],m.value=parseInt(a.data.total),p.value=!1})},E=n([{label:"用户昵称",prop:"nickname",width:200},{label:"用户账号",prop:"account",width:200},{label:"部门",prop:"deptName",width:200},{label:"状态",prop:"state",type:"dict",dict:[{label:"正常",value:"0"},{label:"禁用",value:"1",elTagType:"danger"}]},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:a=>{var t;return e(q,null,[e(c,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>v(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("新增")])]}),e(c,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>x(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("修改")])]}),!((t=a.row)!=null&&t.children)&&e(c,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>D(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("删除")])]})])}}]),u=n(null),v=a=>{u.value.openDialog({parentId:(a==null?void 0:a.id)||0})},x=a=>{u.value.openDialog(a)},D=({id:a})=>{W.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{K(a).then(t=>{t.code===0&&(P.success("删除成功"),s())})})};return A(()=>{s()}),(a,t)=>{const g=R,b=M,T=d("form-search"),C=Q,V=U,z=F,N=I,B=d("Table"),S=d("pagination"),L=Z;return G(),j("div",ee,[e(H,{name:"fade"},{default:i(()=>[_(e(C,{model:l.value,inline:!0,"label-width":"auto",class:"search-form"},{default:i(()=>[e(b,{label:"用户昵称",prop:"nickname"},{default:i(()=>[e(g,{modelValue:l.value.nickname,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.nickname=o),placeholder:"请输入种类名称",clearable:""},null,8,["modelValue"])]),_:1}),e(b,{label:"用户账号",prop:"account"},{default:i(()=>[e(g,{modelValue:l.value.account,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.account=o),placeholder:"请输入用户账号",clearable:""},null,8,["modelValue"])]),_:1}),e(T,{onReset:h,onSearch:w})]),_:1},8,["model"]),[[k,y.value]])]),_:1}),J("div",ae,[e(N,{gutter:10,class:"mb8"},{default:i(()=>[e(z,{span:1.5},{default:i(()=>[e(V,{type:"primary",plain:"",icon:"plus",size:"small",onClick:t[2]||(t[2]=o=>v())},{default:i(()=>[r("新增")]),_:1})]),_:1})]),_:1}),_(e(B,{data:f.value,"row-key":"id",columns:E.value},null,8,["data","columns"]),[[L,p.value]]),_(e(S,{total:m.value,page:l.value.pageNum,"onUpdate:page":t[3]||(t[3]=o=>l.value.pageNum=o),limit:l.value.pageSize,"onUpdate:limit":t[4]||(t[4]=o=>l.value.pageSize=o),onPagination:s},null,8,["total","page","limit"]),[[k,m.value>0]])]),e(O,{ref_key:"dataDialogRef",ref:u,onGetPageList:s},null,512)])}}});export{Ce as default};
