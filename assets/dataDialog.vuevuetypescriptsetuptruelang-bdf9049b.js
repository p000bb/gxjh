/* empty css             */import{E as w}from"./el-overlay-1dc85f1f.js";import{E as C}from"./el-button-4e36e058.js";/* empty css                */import{E as I}from"./el-input-number-f0790d3e.js";import{E as x}from"./el-input-7ff3e30e.js";import{E as B,a as D}from"./el-form-item-ef0a5188.js";import{u as N,a as U,b as h}from"./index-39e0cb16.js";import{G as q}from"./user-89041d09.js";import{d as F,r as n,y as L,x as P,B as t,E as R,k as a,ag as c}from"./viewer-a917d3a0.js";const T={class:"dialog-footer"},X=F({__name:"dataDialog",emits:["getPageList"],setup(G,{expose:f,emit:g}){const _=g,u=n(),s=n(!1),i=n(),o=n({}),v=n({name:[{required:!0,message:"请输入名称",trigger:"change"}],code:[{required:!0,message:"请输入标识",trigger:"change"}],sort:[{required:!0,message:"请输入排序",trigger:"change"}]}),V=()=>{s.value=!1},E=()=>{var l;(l=i.value)==null||l.validate(async e=>{e&&(o.value.id?await N(o.value):await U(o.value),s.value=!1,q.success("操作成功"),_("getPageList"))})};return f({openDialog:async l=>{if(l!=null&&l.id){const e=await h(l.id);o.value={id:e.data.id,parentId:e.data.parentId,name:e.data.name,sort:e.data.sort},u.value="修改文件种类",s.value=!0}else o.value={parentId:(l==null?void 0:l.parentId)||0},u.value="新增文件种类",s.value=!0}}),(l,e)=>{const d=x,m=B,y=I,b=D,p=C,k=w;return L(),P(k,{title:u.value,modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=r=>s.value=r),width:"40%","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[R("div",T,[a(p,{onClick:V},{default:t(()=>[c("取 消")]),_:1}),a(p,{type:"primary",onClick:E},{default:t(()=>[c("保 存")]),_:1})])]),default:t(()=>[a(b,{ref_key:"formRef",ref:i,model:o.value,rules:v.value,"label-width":"auto"},{default:t(()=>[a(m,{label:"名称：",prop:"name"},{default:t(()=>[a(d,{modelValue:o.value.name,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.name=r),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),a(m,{label:"标识：",prop:"code"},{default:t(()=>[a(d,{modelValue:o.value.code,"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.code=r),placeholder:"请输入标识"},null,8,["modelValue"])]),_:1}),a(m,{label:"排序：",prop:"sort"},{default:t(()=>[a(y,{modelValue:o.value.sort,"onUpdate:modelValue":e[2]||(e[2]=r=>o.value.sort=r),min:0,"controls-position":"right",class:"w-full"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}}});export{X as _};
