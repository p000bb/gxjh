import{K as S}from"./el-button-fb691484.js";/* empty css                   */import{E as V,a as F}from"./el-col-2760619c.js";/* empty css                */import{d as L,f as N,j as R,k as I}from"./admin-ee59f3a1.js";import{E as p,a as W}from"./el-link-222bec93.js";import{d as M,r as l,k as a,ay as i,F as Q,o as $,v as _,y as j,A as q,B as o,C as f,D as A,I as G,E as K}from"./viewer-97ef37b1.js";import{d as U,_ as H,g as J}from"./dataDialog.vuevuetypescriptsetuptruelang-0903286d.js";import{a as O}from"./index-70f8277e.js";import{v as X}from"./directive-2e4aa6c9.js";import"./el-popper-17f91b7a.js";import"./debounce-38c8536c.js";import"./index-aec40419.js";import"./vnode-3a581f43.js";import"./aria-bc8e8b0f.js";import"./el-overlay-9e31ebb7.js";import"./refs-03c5e3c6.js";import"./el-input-number-aa0bf63c.js";import"./index-3ffe7cf2.js";const Y={class:"container-main"},Z={class:"table-main"},ke=M({__name:"index",setup(ee){const n=l({pageNum:1,pageSize:10}),g=l(!0),r=l(!1),c=l([]),h=()=>{n.value={pageNum:1,pageSize:10},s()},v=()=>{s()},s=async()=>{r.value=!0,J({...n.value,pageSize:1e3}).then(e=>{c.value=O(e.data.list)||[],r.value=!1})},b=l([{label:"接口名称",prop:"name",width:200,align:"left"},{label:"接口标识",prop:"path",minWidth:200,align:"left"},{label:"排序",prop:"sort",minWidth:100},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:e=>{var t;return a(Q,null,[a(p,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>u(e.row)},{default:()=>[a("span",{class:"table_link_text"},[i("新增")])]}),a(p,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>k(e.row)},{default:()=>[a("span",{class:"table_link_text"},[i("修改")])]}),!((t=e.row)!=null&&t.children)&&a(p,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>y(e.row)},{default:()=>[a("span",{class:"table_link_text"},[i("删除")])]})])}}]),m=l(null),u=e=>{m.value.openDialog({parentId:(e==null?void 0:e.id)||0,parentPath:(e==null?void 0:e.path)||""})},k=e=>{m.value.openDialog(e)},y=({id:e})=>{W.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{U(e).then(t=>{t.code===0&&(L.success("删除成功"),s())})})};return $(()=>{s()}),(e,t)=>{const E=N,w=R,x=_("form-search"),D=I,C=S,T=V,z=F,B=_("Table"),P=X;return j(),q("div",Y,[a(G,{name:"fade"},{default:o(()=>[f(a(D,{model:n.value,inline:!0,"label-width":"auto",class:"search-form"},{default:o(()=>[a(w,{label:"种类名称",prop:"name"},{default:o(()=>[a(E,{modelValue:n.value.name,"onUpdate:modelValue":t[0]||(t[0]=d=>n.value.name=d),placeholder:"请输入种类名称",clearable:""},null,8,["modelValue"])]),_:1}),a(x,{onReset:h,onSearch:v})]),_:1},8,["model"]),[[A,g.value]])]),_:1}),K("div",Z,[a(z,{gutter:10,class:"mb8"},{default:o(()=>[a(T,{span:1.5},{default:o(()=>[a(C,{type:"primary",plain:"",icon:"plus",size:"small",onClick:t[1]||(t[1]=d=>u())},{default:o(()=>[i("新增")]),_:1})]),_:1})]),_:1}),f(a(B,{data:c.value,"row-key":"id",columns:b.value},null,8,["data","columns"]),[[P,r.value]])]),a(H,{ref_key:"dataDialogRef",ref:m,onGetPageList:s},null,512)])}}});export{ke as default};
