import{L as V}from"./el-button-534f93ec.js";/* empty css                   */import{E as F,a as I}from"./el-col-af40c86f.js";/* empty css                */import{d as P,f as M,n as U,o as W}from"./admin-d15e446e.js";import{E as f,a as Q}from"./el-link-b795f2cd.js";import{d as q,r as l,k as e,ay as u,F as A,o as G,v as d,y as $,A as j,B as i,C as c,D as g,I as H,E as J}from"./viewer-71a6cc7b.js";import K from"./dataDialog-25771163.js";import{d as O,g as X}from"./index-d81ecfdd.js";import{a as Y}from"./index-b7dce1f7.js";import{v as Z}from"./directive-44e37452.js";import"./el-popper-5f9a363e.js";import"./debounce-e240d589.js";import"./index-07157569.js";import"./vnode-d45677e0.js";import"./aria-bc8e8b0f.js";import"./el-overlay-56edc591.js";import"./refs-45d3232c.js";import"./index-484f3c2f.js";import"./service copy-fb1d097e.js";import"./index-c21c62e8.js";import"./index-b59c1af4.js";const ee={class:"container-main"},ae={class:"table-main"},xe=q({__name:"index",setup(te){const o=l({pageNum:1,pageSize:10}),v=l(!0),r=l(!1),_=l([]),m=l(0),b=()=>{o.value={pageNum:1,pageSize:10},n()},h=()=>{n()},n=async()=>{r.value=!0,X(o.value).then(t=>{_.value=Y(t.data.list)||[],m.value=parseInt(t.data.total),r.value=!1})},E=l([{label:"角色名称",prop:"name",width:200},{label:"备注",prop:"remark",minWidth:200},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:t=>{var a;return e(A,null,[e(f,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>k(t.row)},{default:()=>[e("span",{class:"table_link_text"},[u("修改")])]}),!((a=t.row)!=null&&a.children)&&e(f,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>w(t.row)},{default:()=>[e("span",{class:"table_link_text"},[u("删除")])]})])}}]),p=l(null),y=()=>{p.value.openDialog()},k=t=>{p.value.openDialog(t)},w=({id:t})=>{Q.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{O(t).then(a=>{a.code===0&&(P.success("删除成功"),n())})})};return G(()=>{n()}),(t,a)=>{const D=M,x=U,C=d("form-search"),T=W,z=V,N=F,R=I,S=d("Table"),B=d("pagination"),L=Z;return $(),j("div",ee,[e(H,{name:"fade"},{default:i(()=>[c(e(T,{model:o.value,inline:!0,"label-width":"auto",class:"search-form"},{default:i(()=>[e(x,{label:"角色名称",prop:"name"},{default:i(()=>[e(D,{modelValue:o.value.name,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value.name=s),placeholder:"请输入角色名称",clearable:""},null,8,["modelValue"])]),_:1}),e(C,{onReset:b,onSearch:h})]),_:1},8,["model"]),[[g,v.value]])]),_:1}),J("div",ae,[e(R,{gutter:10,class:"mb8"},{default:i(()=>[e(N,{span:1.5},{default:i(()=>[e(z,{type:"primary",plain:"",icon:"plus",size:"small",onClick:a[1]||(a[1]=s=>y())},{default:i(()=>[u("新增")]),_:1})]),_:1})]),_:1}),c(e(S,{data:_.value,"row-key":"id",columns:E.value},null,8,["data","columns"]),[[L,r.value]]),c(e(B,{total:m.value,page:o.value.pageNum,"onUpdate:page":a[2]||(a[2]=s=>o.value.pageNum=s),limit:o.value.pageSize,"onUpdate:limit":a[3]||(a[3]=s=>o.value.pageSize=s),onPagination:n},null,8,["total","page","limit"]),[[g,m.value>0]])]),e(K,{ref_key:"dataDialogRef",ref:p,onGetPageList:n},null,512)])}}});export{xe as default};
