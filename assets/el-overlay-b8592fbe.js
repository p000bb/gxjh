import{E as W,aT as le,j as me,aq as we,O as ke,q as Ae,A as ve,w as Z,bs as De,ab as j,f as x,t as U,L as C,h as Me,i as ae,m as I,o as $,K as q,a0 as K,M as T,N as n,Z as _e,V as _,e as J,W as Le,$ as Q,X as pe,l as L,R as Ie,p as Re,aS as ie,S as Be,H as Ne,a6 as Oe,a8 as $e,ap as Ye,a7 as ze,ag as He,aN as Ve}from"./index-ae5a0739.js";import{Q as ee,O as Ue,I as se,af as re,x as xe,ae as Ke,ag as Xe,D as ne,E as te,W as Ge,a5 as Pe,at as We,a2 as je,_ as ye,ay as qe,F as Fe,ah as Ze,P as ue,az as Je,aA as Qe,a6 as ce,ak as et,B as tt}from"./el-button-0e0625b7.js";import{c as ot}from"./refs-715c7c3b.js";import{G as st,U as he}from"./admin-b660b96d.js";var X=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(X||{});const F=e=>{const t=W(e)?e:[e],s=[];return t.forEach(o=>{var l;W(o)?s.push(...F(o)):le(o)&&W(o.children)?s.push(...F(o.children)):(s.push(o),le(o)&&((l=o.component)!=null&&l.subTree)&&s.push(...F(o.component.subTree)))}),s},nt=(e,t,s)=>{let o={offsetX:0,offsetY:0};const l=i=>{const d=i.clientX,v=i.clientY,{offsetX:f,offsetY:h}=o,m=e.value.getBoundingClientRect(),c=m.left,b=m.top,R=m.width,Y=m.height,z=document.documentElement.clientWidth,B=document.documentElement.clientHeight,H=-c+f,N=-b+h,k=z-c-R+f,A=B-b-Y+h,O=S=>{const a=Math.min(Math.max(f+S.clientX-d,H),k),g=Math.min(Math.max(h+S.clientY-v,N),A);o={offsetX:a,offsetY:g},e.value.style.transform=`translate(${ee(a)}, ${ee(g)})`},p=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",p)},u=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",l)},r=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",l)};me(()=>{we(()=>{s.value?u():r()})}),ke(()=>{r()})},lt=()=>{},at=Array.isArray,it=e=>typeof e=="function",rt=e=>typeof e=="symbol";let ut;function ct(e,t=ut){t&&t.active&&t.effects.push(e)}const dt=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ge=e=>(e.w&w)>0,Ee=e=>(e.n&w)>0,ft=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=w},mt=e=>{const{deps:t}=e;if(t.length){let s=0;for(let o=0;o<t.length;o++){const l=t[o];ge(l)&&!Ee(l)?l.delete(e):t[s++]=l,l.w&=~w,l.n&=~w}t.length=s}};let V=0,w=1;const oe=30;let E;class vt{constructor(t,s=null,o){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,ct(this,o)}run(){if(!this.active)return this.fn();let t=E,s=G;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=E,E=this,G=!0,w=1<<++V,V<=oe?ft(this):de(this),this.fn()}finally{V<=oe&&mt(this),w=1<<--V,E=this.parent,G=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){E===this?this.deferStop=!0:this.active&&(de(this),this.onStop&&this.onStop(),this.active=!1)}}function de(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let G=!0;function pt(e,t){let s=!1;V<=oe?Ee(e)||(e.n|=w,s=!ge(e)):s=!e.has(E),s&&(e.add(E),E.deps.push(e))}function yt(e,t){const s=at(e)?e:[...e];for(const o of s)o.computed&&fe(o);for(const o of s)o.computed||fe(o)}function fe(e,t){(e!==E||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(rt));function P(e){const t=e&&e.__v_raw;return t?P(t):e}function ht(e){G&&E&&(e=P(e),pt(e.dep||(e.dep=dt())))}function gt(e,t){e=P(e);const s=e.dep;s&&yt(s)}class Et{constructor(t,s,o,l){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new vt(t,()=>{this._dirty||(this._dirty=!0,gt(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const t=P(this);return ht(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function bt(e,t,s=!1){let o,l;const u=it(e);return u?(o=e,l=lt):(o=e.get,l=e.set),new Et(o,l,u||!l,s)}const Ct=(e,t={})=>{Ae(e)||Ue("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||se("popup"),o=bt(()=>s.bm("parent","hidden"));if(!ve||re(document.body,o.value))return;let l=0,u=!1,r="0";const i=()=>{setTimeout(()=>{Xe(document==null?void 0:document.body,o.value),u&&document&&(document.body.style.width=r)},200)};Z(e,d=>{if(!d){i();return}u=!re(document.body,o.value),u&&(r=document.body.style.width),l=st(s.namespace.value);const v=document.documentElement.clientHeight<document.body.scrollHeight,f=xe(document.body,"overflowY");l>0&&(v||f==="scroll")&&u&&(document.body.style.width=`calc(100% - ${l}px)`),Ke(document.body,o.value)}),De(()=>i())},be=e=>{if(!e)return{onClick:j,onMousedown:j,onMouseup:j};let t=!1,s=!1;return{onClick:r=>{t&&s&&e(r),t=s=!1},onMousedown:r=>{t=r.target===r.currentTarget},onMouseup:r=>{s=r.target===r.currentTarget}}},St=ne({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:te([String,Array,Object])},zIndex:{type:te([String,Number])}}),Tt={click:e=>e instanceof MouseEvent},wt="overlay";var kt=x({name:"ElOverlay",props:St,emits:Tt,setup(e,{slots:t,emit:s}){const o=se(wt),l=d=>{s("click",d)},{onClick:u,onMousedown:r,onMouseup:i}=be(e.customMaskEvent?void 0:l);return()=>e.mask?U("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:r,onMouseup:i},[C(t,"default")],X.STYLE|X.CLASS|X.PROPS,["onClick","onMouseup","onMousedown"]):Me("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[C(t,"default")])}});const At=kt,Ce=Symbol("dialogInjectionKey"),Se=ne({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ge},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Dt={close:()=>!0},Mt=["aria-level"],_t=["aria-label"],Lt=["id"],It=x({name:"ElDialogContent"}),Rt=x({...It,props:Se,emits:Dt,setup(e){const t=e,{t:s}=Pe(),{Close:o}=qe,{dialogRef:l,headerRef:u,bodyId:r,ns:i,style:d}=ae(Ce),{focusTrapRef:v}=ae(We),f=I(()=>[i.b(),i.is("fullscreen",t.fullscreen),i.is("draggable",t.draggable),i.is("align-center",t.alignCenter),{[i.m("center")]:t.center},t.customClass]),h=ot(v,l),m=I(()=>t.draggable);return nt(l,u,m),(c,b)=>($(),q("div",{ref:n(h),class:T(n(f)),style:pe(n(d)),tabindex:"-1"},[K("header",{ref_key:"headerRef",ref:u,class:T(n(i).e("header"))},[C(c.$slots,"header",{},()=>[K("span",{role:"heading","aria-level":c.ariaLevel,class:T(n(i).e("title"))},_e(c.title),11,Mt)]),c.showClose?($(),q("button",{key:0,"aria-label":n(s)("el.dialog.close"),class:T(n(i).e("headerbtn")),type:"button",onClick:b[0]||(b[0]=R=>c.$emit("close"))},[U(n(je),{class:T(n(i).e("close"))},{default:_(()=>[($(),J(Le(c.closeIcon||n(o))))]),_:1},8,["class"])],10,_t)):Q("v-if",!0)],2),K("div",{id:n(r),class:T(n(i).e("body"))},[C(c.$slots,"default")],10,Lt),c.$slots.footer?($(),q("footer",{key:0,class:T(n(i).e("footer"))},[C(c.$slots,"footer")],2)):Q("v-if",!0)],6))}});var Bt=ye(Rt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Nt=ne({...Se,appendToBody:Boolean,beforeClose:{type:te(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Ot={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[he]:e=>Fe(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},$t=(e,t)=>{const o=Re().emit,{nextZIndex:l}=Ze();let u="";const r=ue(),i=ue(),d=L(!1),v=L(!1),f=L(!1),h=L(e.zIndex||l());let m,c;const b=Je("namespace",Qe),R=I(()=>{const y={},M=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(y[`${M}-margin-top`]=e.top),e.width&&(y[`${M}-width`]=ee(e.width))),y}),Y=I(()=>e.alignCenter?{display:"flex"}:{});function z(){o("opened")}function B(){o("closed"),o(he,!1),e.destroyOnClose&&(f.value=!1)}function H(){o("close")}function N(){c==null||c(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=ie(()=>p(),e.openDelay):p()}function k(){m==null||m(),c==null||c(),e.closeDelay&&e.closeDelay>0?{stop:c}=ie(()=>S(),e.closeDelay):S()}function A(){function y(M){M||(v.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(y):k()}function O(){e.closeOnClickModal&&A()}function p(){ve&&(d.value=!0)}function S(){d.value=!1}function a(){o("openAutoFocus")}function g(){o("closeAutoFocus")}function D(y){var M;((M=y.detail)==null?void 0:M.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&Ct(d);function Te(){e.closeOnPressEscape&&A()}return Z(()=>e.modelValue,y=>{y?(v.value=!1,N(),f.value=!0,h.value=e.zIndex?h.value++:l(),Ie(()=>{o("open"),t.value&&(t.value.scrollTop=0)})):d.value&&k()}),Z(()=>e.fullscreen,y=>{t.value&&(y?(u=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=u)}),me(()=>{e.modelValue&&(d.value=!0,f.value=!0,N())}),{afterEnter:z,afterLeave:B,beforeLeave:H,handleClose:A,onModalClick:O,close:k,doClose:S,onOpenAutoFocus:a,onCloseAutoFocus:g,onCloseRequested:Te,onFocusoutPrevented:D,titleId:r,bodyId:i,closed:v,style:R,overlayDialogStyle:Y,rendered:f,visible:d,zIndex:h}},Yt=["aria-label","aria-labelledby","aria-describedby"],zt=x({name:"ElDialog",inheritAttrs:!1}),Ht=x({...zt,props:Nt,emits:Ot,setup(e,{expose:t}){const s=e,o=Be();ce({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},I(()=>!!o.title)),ce({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},I(()=>!!s.customClass));const l=se("dialog"),u=L(),r=L(),i=L(),{visible:d,titleId:v,bodyId:f,style:h,overlayDialogStyle:m,rendered:c,zIndex:b,afterEnter:R,afterLeave:Y,beforeLeave:z,handleClose:B,onModalClick:H,onOpenAutoFocus:N,onCloseAutoFocus:k,onCloseRequested:A,onFocusoutPrevented:O}=$t(s,u);Ne(Ce,{dialogRef:u,headerRef:r,bodyId:f,ns:l,rendered:c,style:h});const p=be(H),S=I(()=>s.draggable&&!s.fullscreen);return t({visible:d,dialogContentRef:i}),(a,g)=>($(),J(Ve,{to:"body",disabled:!a.appendToBody},[U(He,{name:"dialog-fade",onAfterEnter:n(R),onAfterLeave:n(Y),onBeforeLeave:n(z),persisted:""},{default:_(()=>[Oe(U(n(At),{"custom-mask-event":"",mask:a.modal,"overlay-class":a.modalClass,"z-index":n(b)},{default:_(()=>[K("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:n(v),"aria-describedby":n(f),class:T(`${n(l).namespace.value}-overlay-dialog`),style:pe(n(m)),onClick:g[0]||(g[0]=(...D)=>n(p).onClick&&n(p).onClick(...D)),onMousedown:g[1]||(g[1]=(...D)=>n(p).onMousedown&&n(p).onMousedown(...D)),onMouseup:g[2]||(g[2]=(...D)=>n(p).onMouseup&&n(p).onMouseup(...D))},[U(n(et),{loop:"",trapped:n(d),"focus-start-el":"container",onFocusAfterTrapped:n(N),onFocusAfterReleased:n(k),onFocusoutPrevented:n(O),onReleaseRequested:n(A)},{default:_(()=>[n(c)?($(),J(Bt,$e({key:0,ref_key:"dialogContentRef",ref:i},a.$attrs,{"custom-class":a.customClass,center:a.center,"align-center":a.alignCenter,"close-icon":a.closeIcon,draggable:n(S),fullscreen:a.fullscreen,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:n(B)}),Ye({header:_(()=>[a.$slots.title?C(a.$slots,"title",{key:1}):C(a.$slots,"header",{key:0,close:n(B),titleId:n(v),titleClass:n(l).e("title")})]),default:_(()=>[C(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:_(()=>[C(a.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):Q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Yt)]),_:3},8,["mask","overlay-class","z-index"]),[[ze,n(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Vt=ye(Ht,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Gt=tt(Vt);export{At as E,Ot as a,Gt as b,Nt as d,F as f,$t as u};
