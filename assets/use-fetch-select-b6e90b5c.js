/* empty css             */import{a as pl,i as ml,U as At,C as Dt}from"./el-input-7ff3e30e.js";import{E as vl}from"./el-tag-e05e313c.js";import{B as hl}from"./el-scrollbar-874a5079.js";import{a as gl,b as bl,E as Sl}from"./el-popper-bf9c0fd5.js";import{E as yl,a as wl}from"./el-select-7c2b4cfc.js";import{b as g,df as Vl,g as Ft,d as ye,r as N,ax as je,O as w,w as be,an as Il,h as Oe,aw as J,o as ut,ad as Ol,ah as Cl,Z as Re,ao as It,ac as x,a8 as Tl,y as M,A as F,Y as le,L as E,ak as ie,E as P,aW as El,G as We,i as Ml,k as Z,H as tt,aa as Ne,cu as zl,a9 as Le,a$ as lt,af as Rl,aj as Nl,cG as Ll,ab as Ot,a7 as kl,v as He,J as Ct,C as Pe,B as Q,K as ve,F as Ie,$ as Ue,x as fe,a4 as ce,D as Bl,aq as $l,bk as Al,j as Tt}from"./viewer-a917d3a0.js";import{a5 as we,d as Te,a as Ye,m as Dl,f as he,g as Ke,_ as dt,t as Fl,k as Se,J as Hl,u as Pl,a0 as Kl,E as Wl}from"./user-89041d09.js";import{i as Ul}from"./validator-41f192c7.js";import{c as Ht,r as Pt}from"./raf-7f60697a.js";import{a as Gl}from"./use-form-item-a4463e9d.js";import{e as ql}from"./strings-1de25abc.js";import{u as jl}from"./use-form-common-props-ac54b10b.js";import{i as Et,d as Ql}from"./error-f1912ce6.js";import{d as Zl}from"./debounce-81d01b88.js";import{i as Mt}from"./isEqual-f03edc0e.js";import{C as Yl}from"./index-0414d5d6.js";import"./index-cb7b6eb7.js";import"./focus-trap-c1ca97d6.js";import"./scroll-77ba8cf1.js";import"./_getTag-fe0ae1ad.js";import"./hasIn-03b841fc.js";var zt=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Jl(e,t){return!!(e===t||zt(e)&&zt(t))}function Xl(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!Jl(e[o],t[o]))return!1;return!0}function xl(e,t){t===void 0&&(t=Xl);var o=null;function s(){for(var r=[],d=0;d<arguments.length;d++)r[d]=arguments[d];if(o&&o.lastThis===this&&t(r,o.lastArgs))return o.lastResult;var c=e.apply(this,r);return o={lastResult:c,lastArgs:r,lastThis:this},c}return s.clear=function(){o=null},s}const _l=()=>{const t=Ft().proxy.$props;return g(()=>{const o=(s,r,d)=>({});return t.perfMode?Vl(o):xl(o)})},en=50,Rt="itemRendered",Nt="scroll",Kt="forward",Wt="backward",ke="auto",Ut="smart",Gt="start",Qe="center",qt="end",Ee="horizontal",ct="vertical",tn="ltr",Ge="rtl",nt="negative",jt="positive-ascending",Qt="positive-descending",ln={[Ee]:"left",[ct]:"top"},nn=20,on={[Ee]:"deltaX",[ct]:"deltaY"},an=({atEndEdge:e,atStartEdge:t,layout:o},s)=>{let r,d=0;const c=m=>m<0&&t.value||m>0&&e.value;return{hasReachedEdge:c,onWheel:m=>{Ht(r);const v=m[on[o.value]];c(d)&&c(d+v)||(d+=v,pl()||m.preventDefault(),r=Pt(()=>{s(d),d=0}))}}},ot=we({type:Te([Number,Function]),required:!0}),at=we({type:Number}),st=we({type:Number,default:2}),sn=we({type:String,values:["ltr","rtl"],default:"ltr"}),it=we({type:Number,default:0}),Ze=we({type:Number,required:!0}),Zt=we({type:String,values:["horizontal","vertical"],default:ct}),Yt=Ye({className:{type:String,default:""},containerElement:{type:Te([String,Object]),default:"div"},data:{type:Te(Array),default:()=>Dl([])},direction:sn,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Te([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),rn=Ye({cache:st,estimatedItemSize:at,layout:Zt,initScrollOffset:it,total:Ze,itemSize:ot,...Yt}),rt={type:Number,default:6},Jt={type:Number,default:0},Xt={type:Number,default:2};Ye({columnCache:st,columnWidth:ot,estimatedColumnWidth:at,estimatedRowHeight:at,initScrollLeft:it,initScrollTop:it,itemKey:{type:Te(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:st,rowHeight:ot,totalColumn:Ze,totalRow:Ze,hScrollbarSize:rt,vScrollbarSize:rt,scrollbarStartGap:Jt,scrollbarEndGap:Xt,role:String,...Yt});const un=Ye({alwaysOn:Boolean,class:String,layout:Zt,total:Ze,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:rt,startGap:Jt,endGap:Xt,visible:Boolean}),et=(e,t)=>e<t?Kt:Wt,Be=e=>e===tn||e===Ge||e===Ee;let Ve=null;function Lt(e=!1){if(Ve===null||e){const t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const s=document.createElement("div"),r=s.style;return r.width="100px",r.height="100px",t.appendChild(s),document.body.appendChild(t),t.scrollLeft>0?Ve=Qt:(t.scrollLeft=1,t.scrollLeft===0?Ve=nt:Ve=jt),document.body.removeChild(t),Ve}return Ve}function dn({move:e,size:t,bar:o},s){const r={},d=`translate${o.axis}(${e}px)`;return r[o.size]=t,r.transform=d,r.msTransform=d,r.webkitTransform=d,s==="horizontal"?r.height="100%":r.width="100%",r}const cn=ye({name:"ElVirtualScrollBar",props:un,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=g(()=>e.startGap+e.endGap),s=he("virtual-scrollbar"),r=he("scrollbar"),d=N(),c=N();let n=null,m=null;const v=je({isDragging:!1,traveled:0}),i=g(()=>hl[e.layout]),f=g(()=>e.clientSize-w(o)),a=g(()=>({position:"absolute",width:`${Ee===e.layout?f.value:e.scrollbarSize}px`,height:`${Ee===e.layout?e.scrollbarSize:f.value}px`,[ln[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),k=g(()=>{const b=e.ratio,B=e.clientSize;if(b>=100)return Number.POSITIVE_INFINITY;if(b>=50)return b*B/100;const h=B/3;return Math.floor(Math.min(Math.max(b*B,nn),h))}),q=g(()=>{if(!Number.isFinite(k.value))return{display:"none"};const b=`${k.value}px`;return dn({bar:i.value,size:b,move:v.traveled},e.layout)}),$=g(()=>Math.floor(e.clientSize-k.value-w(o))),j=()=>{window.addEventListener("mousemove",V),window.addEventListener("mouseup",Y);const b=w(c);b&&(m=document.onselectstart,document.onselectstart=()=>!1,b.addEventListener("touchmove",V),b.addEventListener("touchend",Y))},O=()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",Y),document.onselectstart=m,m=null;const b=w(c);b&&(b.removeEventListener("touchmove",V),b.removeEventListener("touchend",Y))},U=b=>{b.stopImmediatePropagation(),!(b.ctrlKey||[1,2].includes(b.button))&&(v.isDragging=!0,v[i.value.axis]=b.currentTarget[i.value.offset]-(b[i.value.client]-b.currentTarget.getBoundingClientRect()[i.value.direction]),t("start-move"),j())},Y=()=>{v.isDragging=!1,v[i.value.axis]=0,t("stop-move"),O()},V=b=>{const{isDragging:B}=v;if(!B||!c.value||!d.value)return;const h=v[i.value.axis];if(!h)return;Ht(n);const y=(d.value.getBoundingClientRect()[i.value.direction]-b[i.value.client])*-1,C=c.value[i.value.offset]-h,A=y-C;n=Pt(()=>{v.traveled=Math.max(e.startGap,Math.min(A,$.value)),t("scroll",A,$.value)})},ne=b=>{const B=Math.abs(b.target.getBoundingClientRect()[i.value.direction]-b[i.value.client]),h=c.value[i.value.offset]/2,y=B-h;v.traveled=Math.max(0,Math.min(y,$.value)),t("scroll",y,$.value)};return be(()=>e.scrollFrom,b=>{v.isDragging||(v.traveled=Math.ceil(b*$.value))}),Il(()=>{O()}),()=>Oe("div",{role:"presentation",ref:d,class:[s.b(),e.class,(e.alwaysOn||v.isDragging)&&"always-on"],style:a.value,onMousedown:J(ne,["stop","prevent"]),onTouchstartPrevent:U},Oe("div",{ref:c,class:r.e("thumb"),style:q.value,onMousedown:U},[]))}}),xt=({name:e,getOffset:t,getItemSize:o,getItemOffset:s,getEstimatedTotalSize:r,getStartIndexForOffset:d,getStopIndexForStartIndex:c,initCache:n,clearCache:m,validateProps:v})=>ye({name:e??"ElVirtualList",props:rn,emits:[Rt,Nt],setup(i,{emit:f,expose:a}){v(i);const k=Ft(),q=he("vl"),$=N(n(i,k)),j=_l(),O=N(),U=N(),Y=N(),V=N({isScrolling:!1,scrollDir:"forward",scrollOffset:Ke(i.initScrollOffset)?i.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:i.scrollbarAlwaysOn}),ne=g(()=>{const{total:p,cache:I}=i,{isScrolling:z,scrollDir:G,scrollOffset:R}=w(V);if(p===0)return[0,0,0,0];const D=d(i,R,w($)),H=c(i,D,R,w($)),oe=!z||G===Wt?Math.max(1,I):1,me=!z||G===Kt?Math.max(1,I):1;return[Math.max(0,D-oe),Math.max(0,Math.min(p-1,H+me)),D,H]}),b=g(()=>r(i,w($))),B=g(()=>Be(i.layout)),h=g(()=>[{position:"relative",[`overflow-${B.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:i.direction,height:Ke(i.height)?`${i.height}px`:i.height,width:Ke(i.width)?`${i.width}px`:i.width},i.style]),y=g(()=>{const p=w(b),I=w(B);return{height:I?"100%":`${p}px`,pointerEvents:w(V).isScrolling?"none":void 0,width:I?`${p}px`:"100%"}}),C=g(()=>B.value?i.width:i.height),{onWheel:A}=an({atStartEdge:g(()=>V.value.scrollOffset<=0),atEndEdge:g(()=>V.value.scrollOffset>=b.value),layout:g(()=>i.layout)},p=>{var I,z;(z=(I=Y.value).onMouseUp)==null||z.call(I),X(Math.min(V.value.scrollOffset+p,b.value-C.value))}),L=()=>{const{total:p}=i;if(p>0){const[R,D,H,oe]=w(ne);f(Rt,R,D,H,oe)}const{scrollDir:I,scrollOffset:z,updateRequested:G}=w(V);f(Nt,I,z,G)},K=p=>{const{clientHeight:I,scrollHeight:z,scrollTop:G}=p.currentTarget,R=w(V);if(R.scrollOffset===G)return;const D=Math.max(0,Math.min(G,z-I));V.value={...R,isScrolling:!0,scrollDir:et(R.scrollOffset,D),scrollOffset:D,updateRequested:!1},x(de)},_=p=>{const{clientWidth:I,scrollLeft:z,scrollWidth:G}=p.currentTarget,R=w(V);if(R.scrollOffset===z)return;const{direction:D}=i;let H=z;if(D===Ge)switch(Lt()){case nt:{H=-z;break}case Qt:{H=G-I-z;break}}H=Math.max(0,Math.min(H,G-I)),V.value={...R,isScrolling:!0,scrollDir:et(R.scrollOffset,H),scrollOffset:H,updateRequested:!1},x(de)},ee=p=>{w(B)?_(p):K(p),L()},re=(p,I)=>{const z=(b.value-C.value)/I*p;X(Math.min(b.value-C.value,z))},X=p=>{p=Math.max(p,0),p!==w(V).scrollOffset&&(V.value={...w(V),scrollOffset:p,scrollDir:et(w(V).scrollOffset,p),updateRequested:!0},x(de))},W=(p,I=ke)=>{const{scrollOffset:z}=w(V);p=Math.max(0,Math.min(p,i.total-1)),X(t(i,p,I,z,w($)))},ue=p=>{const{direction:I,itemSize:z,layout:G}=i,R=j.value(m&&z,m&&G,m&&I);let D;if(Tl(R,String(p)))D=R[p];else{const H=s(i,p,w($)),oe=o(i,p,w($)),me=w(B),$e=I===Ge,Ae=me?H:0;R[p]=D={position:"absolute",left:$e?void 0:`${Ae}px`,right:$e?`${Ae}px`:void 0,top:me?0:`${H}px`,height:me?"100%":`${oe}px`,width:me?`${oe}px`:"100%"}}return D},de=()=>{V.value.isScrolling=!1,x(()=>{j.value(-1,null,null)})},pe=()=>{const p=O.value;p&&(p.scrollTop=0)};ut(()=>{if(!Ol)return;const{initScrollOffset:p}=i,I=w(O);Ke(p)&&I&&(w(B)?I.scrollLeft=p:I.scrollTop=p),L()}),Cl(()=>{const{direction:p,layout:I}=i,{scrollOffset:z,updateRequested:G}=w(V),R=w(O);if(G&&R)if(I===Ee)if(p===Ge)switch(Lt()){case nt:{R.scrollLeft=-z;break}case jt:{R.scrollLeft=z;break}default:{const{clientWidth:D,scrollWidth:H}=R;R.scrollLeft=H-D-z;break}}else R.scrollLeft=z;else R.scrollTop=z});const te={ns:q,clientSize:C,estimatedTotalSize:b,windowStyle:h,windowRef:O,innerRef:U,innerStyle:y,itemsToRender:ne,scrollbarRef:Y,states:V,getItemStyle:ue,onScroll:ee,onScrollbarScroll:re,onWheel:A,scrollTo:X,scrollToItem:W,resetScrollTop:pe};return a({windowRef:O,innerRef:U,getItemStyleCache:j,scrollTo:X,scrollToItem:W,resetScrollTop:pe,states:V}),te},render(i){var f;const{$slots:a,className:k,clientSize:q,containerElement:$,data:j,getItemStyle:O,innerElement:U,itemsToRender:Y,innerStyle:V,layout:ne,total:b,onScroll:B,onScrollbarScroll:h,onWheel:y,states:C,useIsScrolling:A,windowStyle:L,ns:K}=i,[_,ee]=Y,re=Re($),X=Re(U),W=[];if(b>0)for(let te=_;te<=ee;te++)W.push((f=a.default)==null?void 0:f.call(a,{data:j,key:te,index:te,isScrolling:A?C.isScrolling:void 0,style:O(te)}));const ue=[Oe(X,{style:V,ref:"innerRef"},It(X)?W:{default:()=>W})],de=Oe(cn,{ref:"scrollbarRef",clientSize:q,layout:ne,onScroll:h,ratio:q*100/this.estimatedTotalSize,scrollFrom:C.scrollOffset/(this.estimatedTotalSize-q),total:b}),pe=Oe(re,{class:[K.e("window"),k],style:L,onScroll:B,onWheel:y,ref:"windowRef",key:0},It(re)?[ue]:{default:()=>[ue]});return Oe("div",{key:0,class:[K.e("wrapper"),C.scrollbarAlwaysOn?"always-on":""]},[pe,de])}}),fn=xt({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:o,layout:s,width:r},d,c,n)=>{const m=Be(s)?r:e,v=Math.max(0,t*o-m),i=Math.min(v,d*o),f=Math.max(0,(d+1)*o-m);switch(c===Ut&&(n>=f-m&&n<=i+m?c=ke:c=Qe),c){case Gt:return i;case qt:return f;case Qe:{const a=Math.round(f+(i-f)/2);return a<Math.ceil(m/2)?0:a>v+Math.floor(m/2)?v:a}case ke:default:return n>=f&&n<=i?n:n<f?f:i}},getStartIndexForOffset:({total:e,itemSize:t},o)=>Math.max(0,Math.min(e-1,Math.floor(o/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:o,layout:s,width:r},d,c)=>{const n=d*o,m=Be(s)?r:e,v=Math.ceil((m+c-n)/o);return Math.max(0,Math.min(t-1,d+v-1))},initCache(){},clearCache:!0,validateProps(){}}),Ce=(e,t,o)=>{const{itemSize:s}=e,{items:r,lastVisitedIndex:d}=o;if(t>d){let c=0;if(d>=0){const n=r[d];c=n.offset+n.size}for(let n=d+1;n<=t;n++){const m=s(n);r[n]={offset:c,size:m},c+=m}o.lastVisitedIndex=t}return r[t]},pn=(e,t,o)=>{const{items:s,lastVisitedIndex:r}=t;return(r>0?s[r].offset:0)>=o?_t(e,t,0,r,o):mn(e,t,Math.max(0,r),o)},_t=(e,t,o,s,r)=>{for(;o<=s;){const d=o+Math.floor((s-o)/2),c=Ce(e,d,t).offset;if(c===r)return d;c<r?o=d+1:c>r&&(s=d-1)}return Math.max(0,o-1)},mn=(e,t,o,s)=>{const{total:r}=e;let d=1;for(;o<r&&Ce(e,o,t).offset<s;)o+=d,d*=2;return _t(e,t,Math.floor(o/2),Math.min(o,r-1),s)},kt=({total:e},{items:t,estimatedItemSize:o,lastVisitedIndex:s})=>{let r=0;if(s>=e&&(s=e-1),s>=0){const n=t[s];r=n.offset+n.size}const c=(e-s-1)*o;return r+c},vn=xt({name:"ElDynamicSizeList",getItemOffset:(e,t,o)=>Ce(e,t,o).offset,getItemSize:(e,t,{items:o})=>o[t].size,getEstimatedTotalSize:kt,getOffset:(e,t,o,s,r)=>{const{height:d,layout:c,width:n}=e,m=Be(c)?n:d,v=Ce(e,t,r),i=kt(e,r),f=Math.max(0,Math.min(i-m,v.offset)),a=Math.max(0,v.offset-m+v.size);switch(o===Ut&&(s>=a-m&&s<=f+m?o=ke:o=Qe),o){case Gt:return f;case qt:return a;case Qe:return Math.round(a+(f-a)/2);case ke:default:return s>=a&&s<=f?s:s<a?a:f}},getStartIndexForOffset:(e,t,o)=>pn(e,o,t),getStopIndexForStartIndex:(e,t,o,s)=>{const{height:r,total:d,layout:c,width:n}=e,m=Be(c)?n:r,v=Ce(e,t,s),i=o+m;let f=v.offset+v.size,a=t;for(;a<d-1&&f<i;)a++,f+=Ce(e,a,s).size;return a},initCache({estimatedItemSize:e=en},t){const o={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return o.clearCacheAfterIndex=(s,r=!0)=>{var d,c;o.lastVisitedIndex=Math.min(o.lastVisitedIndex,s-1),(d=t.exposed)==null||d.getItemStyleCache(-1),r&&((c=t.proxy)==null||c.$forceUpdate())},o},clearCache:!1,validateProps:({itemSize:e})=>{}}),hn=ye({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:he("select")}}});function gn(e,t,o,s,r,d){return e.item.isTitle?(M(),F("div",{key:0,class:E(e.ns.be("group","title")),style:ie([e.style,{lineHeight:`${e.height}px`}])},le(e.item.label),7)):(M(),F("div",{key:1,class:E(e.ns.be("group","split")),style:ie(e.style)},[P("span",{class:E(e.ns.be("group","split-dash")),style:ie({top:`${e.height/2}px`})},null,6)],6))}var bn=dt(hn,[["render",gn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function Sn(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const yn={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:El},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:gl.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Ul},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:Te(String),values:bl,default:"bottom-start"}},wn={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Vn=ye({props:wn,emits:["select","hover"],setup(e,{emit:t}){const o=he("select"),{hoverItem:s,selectOptionClick:r}=Sn(e,{emit:t});return{ns:o,hoverItem:s,selectOptionClick:r}}}),In=["aria-selected"];function On(e,t,o,s,r,d){return M(),F("li",{"aria-selected":e.selected,style:ie(e.style),class:E([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...c)=>e.hoverItem&&e.hoverItem(...c)),onClick:t[1]||(t[1]=J((...c)=>e.selectOptionClick&&e.selectOptionClick(...c),["stop"]))},[We(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[P("span",null,le(e.item.label),1)])],46,In)}var Cn=dt(Vn,[["render",On],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const el=Symbol("ElSelectV2Injection");var Tn=ye({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:o}){const s=Ml(el),r=he("select"),d=N([]),c=N(),n=g(()=>e.data.length);be(()=>n.value,()=>{var h,y;(y=(h=s.popper.value).updatePopper)==null||y.call(h)});const m=g(()=>Fl(s.props.estimatedOptionHeight)),v=g(()=>m.value?{itemSize:s.props.itemHeight}:{estimatedSize:s.props.estimatedOptionHeight,itemSize:h=>d.value[h]}),i=(h=[],y)=>{const{props:{valueKey:C}}=s;return Ne(y)?h&&h.some(A=>zl(Se(A,C))===Se(y,C)):h.includes(y)},f=(h,y)=>{if(Ne(y)){const{valueKey:C}=s.props;return Se(h,C)===Se(y,C)}else return h===y},a=(h,y)=>s.props.multiple?i(h,y.value):f(h,y.value),k=(h,y)=>{const{disabled:C,multiple:A,multipleLimit:L}=s.props;return C||!y&&(A?L>0&&h.length>=L:!1)},q=h=>e.hoveringIndex===h;o({listRef:c,isSized:m,isItemDisabled:k,isItemHovering:q,isItemSelected:a,scrollToItem:h=>{const y=c.value;y&&y.scrollToItem(h)},resetScrollTop:()=>{const h=c.value;h&&h.resetScrollTop()}});const O=h=>{const{index:y,data:C,style:A}=h,L=w(m),{itemSize:K,estimatedSize:_}=w(v),{modelValue:ee}=s.props,{onSelect:re,onHover:X}=s,W=C[y];if(W.type==="Group")return Z(bn,{item:W,style:A,height:L?K:_},null);const ue=a(ee,W),de=k(ee,ue),pe=q(y);return Z(Cn,tt(h,{selected:ue,disabled:W.disabled||de,created:!!W.created,hovering:pe,item:W,onSelect:re,onHover:X}),{default:te=>{var p;return((p=t.default)==null?void 0:p.call(t,te))||Z("span",null,[W.label])}})},{onKeyboardNavigate:U,onKeyboardSelect:Y}=s,V=()=>{U("forward")},ne=()=>{U("backward")},b=()=>{s.expanded=!1},B=h=>{const{code:y}=h,{tab:C,esc:A,down:L,up:K,enter:_}=Hl;switch(y!==C&&(h.preventDefault(),h.stopPropagation()),y){case C:case A:{b();break}case L:{V();break}case K:{ne();break}case _:{Y();break}}};return()=>{var h;const{data:y,width:C}=e,{height:A,multiple:L,scrollbarAlwaysOn:K}=s.props;if(y.length===0)return Z("div",{class:r.b("dropdown"),style:{width:`${C}px`}},[(h=t.empty)==null?void 0:h.call(t)]);const _=w(m)?fn:vn;return Z("div",{class:[r.b("dropdown"),r.is("multiple",L)]},[Z(_,tt({ref:c},w(v),{className:r.be("dropdown","list"),scrollbarAlwaysOn:K,data:y,height:A,width:C,total:y.length,onKeydown:B}),{default:ee=>Z(O,ee,null)})])}}});function En(e,t){const o=N(0),s=N(null),r=g(()=>e.allowCreate&&e.filterable);function d(i){const f=a=>a.value===i;return e.options&&e.options.some(f)||t.createdOptions.some(f)}function c(i){r.value&&(e.multiple&&i.created?o.value++:s.value=i)}function n(i){if(r.value)if(i&&i.length>0&&!d(i)){const f={value:i,label:i,created:!0,disabled:!1};t.createdOptions.length>=o.value?t.createdOptions[o.value]=f:t.createdOptions.push(f)}else if(e.multiple)t.createdOptions.length=o.value;else{const f=s.value;t.createdOptions.length=0,f&&f.created&&t.createdOptions.push(f)}}function m(i){if(!r.value||!i||!i.created||i.created&&e.reserveKeyword&&t.inputValue===i.label)return;const f=t.createdOptions.findIndex(a=>a.value===i.value);~f&&(t.createdOptions.splice(f,1),o.value--)}function v(){r.value&&(t.createdOptions.length=0,o.value=0)}return{createNewOption:n,removeNewOption:m,selectNewOption:c,clearAllNewOption:v}}const Mn=e=>{const t=[];return e.forEach(o=>{Le(o.options)?(t.push({label:o.label,isTitle:!0,type:"Group"}),o.options.forEach(s=>{t.push(s)}),t.push({type:"Group"})):t.push(o)}),t};function zn(e){const t=N(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:d=>{const c=d.target.value,n=c[c.length-1]||"";t.value=!ml(n)},handleCompositionEnd:d=>{t.value&&(t.value=!1,lt(e)&&e(d))}}}const Bt="",$t=11,Rn={larget:51,default:42,small:33},Nn=(e,t)=>{const{t:o}=Pl(),s=he("select-v2"),r=he("input"),{form:d,formItem:c}=Gl(),n=je({inputValue:Bt,displayInputValue:Bt,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),m=N(-1),v=N(-1),i=N(null),f=N(null),a=N(null),k=N(null),q=N(null),$=N(null),j=N(null),O=N(!1),U=g(()=>e.disabled||(d==null?void 0:d.disabled)),Y=g(()=>{const l=L.value.length*34;return l>e.height?e.height:l}),V=g(()=>!Et(e.modelValue)),ne=g(()=>{const l=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:V.value;return e.clearable&&!U.value&&n.comboBoxHovering&&l}),b=g(()=>e.remote&&e.filterable?"":Rl),B=g(()=>b.value&&s.is("reverse",O.value)),h=g(()=>(c==null?void 0:c.validateState)||""),y=g(()=>Kl[h.value]),C=g(()=>e.remote?300:0),A=g(()=>{const l=L.value;return e.loading?e.loadingText||o("el.select.loading"):e.remote&&n.inputValue===""&&l.length===0?!1:e.filterable&&n.inputValue&&l.length>0?e.noMatchText||o("el.select.noMatch"):l.length===0?e.noDataText||o("el.select.noData"):null}),L=g(()=>{const l=u=>{const S=n.inputValue,T=new RegExp(ql(S),"i");return S?T.test(u.label||""):!0};return e.loading?[]:Mn(e.options.concat(n.createdOptions).map(u=>{if(Le(u.options)){const S=u.options.filter(l);if(S.length>0)return{...u,options:S}}else if(e.remote||l(u))return u;return null}).filter(u=>u!==null))}),K=g(()=>{const l=new Map;return L.value.forEach((u,S)=>{l.set(ze(u.value),{option:u,index:S})}),l}),_=g(()=>L.value.every(l=>l.disabled)),ee=jl(),re=g(()=>ee.value==="small"?"small":"default"),X=g(()=>{const l=$.value,u=re.value||"default",S=l?Number.parseInt(getComputedStyle(l).paddingLeft):0,T=l?Number.parseInt(getComputedStyle(l).paddingRight):0;return n.selectWidth-T-S-Rn[u]}),W=()=>{var l;v.value=((l=q.value)==null?void 0:l.offsetWidth)||200},ue=g(()=>({width:`${n.calculatedWidth===0?$t:Math.ceil(n.calculatedWidth)+$t}px`})),de=g(()=>Le(e.modelValue)?e.modelValue.length===0&&!n.displayInputValue:e.filterable?n.displayInputValue.length===0:!0),pe=g(()=>{const l=e.placeholder||o("el.select.placeholder");return e.multiple||Et(e.modelValue)?l:n.selectedLabel}),te=g(()=>{var l,u;return(u=(l=k.value)==null?void 0:l.popperRef)==null?void 0:u.contentRef}),p=g(()=>{if(e.multiple){const l=e.modelValue.length;if(e.modelValue.length>0&&K.value.has(e.modelValue[l-1])){const{index:u}=K.value.get(e.modelValue[l-1]);return u}}else if(e.modelValue&&K.value.has(e.modelValue)){const{index:l}=K.value.get(e.modelValue);return l}return-1}),I=g({get(){return O.value&&A.value!==!1},set(l){O.value=l}}),z=g(()=>n.cachedOptions.slice(0,e.maxCollapseTags)),G=g(()=>n.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:R,removeNewOption:D,selectNewOption:H,clearAllNewOption:oe}=En(e,n),{handleCompositionStart:me,handleCompositionUpdate:$e,handleCompositionEnd:Ae}=zn(l=>Vt(l)),ft=()=>{var l,u,S;(u=(l=f.value)==null?void 0:l.focus)==null||u.call(l),(S=k.value)==null||S.updatePopper()},Je=()=>{if(!e.automaticDropdown&&!U.value)return n.isComposing&&(n.softFocus=!0),x(()=>{var l,u;O.value=!O.value,(u=(l=f.value)==null?void 0:l.focus)==null||u.call(l)})},pt=()=>(e.filterable&&n.inputValue!==n.selectedLabel&&(n.query=n.selectedLabel),vt(n.inputValue),x(()=>{R(n.inputValue)})),mt=Zl(pt,C.value),vt=l=>{n.previousQuery!==l&&(n.previousQuery=l,e.filterable&&lt(e.filterMethod)?e.filterMethod(l):e.filterable&&e.remote&&lt(e.remoteMethod)&&e.remoteMethod(l))},tl=l=>{Mt(e.modelValue,l)||t(Dt,l)},Me=l=>{t(At,l),tl(l),n.previousValue=l==null?void 0:l.toString()},ht=(l=[],u)=>{if(!Ne(u))return l.indexOf(u);const S=e.valueKey;let T=-1;return l.some((ae,se)=>Se(ae,S)===Se(u,S)?(T=se,!0):!1),T},ze=l=>Ne(l)?Se(l,e.valueKey):l,ll=l=>Ne(l)?l.label:l,Xe=()=>x(()=>{var l,u;if(!f.value)return;const S=$.value;q.value.height=S.offsetHeight,O.value&&A.value!==!1&&((u=(l=k.value)==null?void 0:l.updatePopper)==null||u.call(l))}),gt=()=>{var l,u;if(nl(),W(),(u=(l=k.value)==null?void 0:l.updatePopper)==null||u.call(l),e.multiple)return Xe()},nl=()=>{const l=$.value;l&&(n.selectWidth=l.getBoundingClientRect().width)},bt=(l,u,S=!0)=>{var T,ae;if(e.multiple){let se=e.modelValue.slice();const Fe=ht(se,l.value);Fe>-1?(se=[...se.slice(0,Fe),...se.slice(Fe+1)],n.cachedOptions.splice(Fe,1),D(l)):(e.multipleLimit<=0||se.length<e.multipleLimit)&&(se=[...se,l.value],n.cachedOptions.push(l),H(l),ge(u)),Me(se),l.created&&(n.query="",vt(""),n.inputLength=20),e.filterable&&!e.reserveKeyword&&((ae=(T=f.value).focus)==null||ae.call(T),De("")),e.filterable&&(n.calculatedWidth=j.value.getBoundingClientRect().width),Xe(),dl()}else m.value=u,n.selectedLabel=l.label,Me(l.value),O.value=!1,n.isComposing=!1,n.isSilentBlur=S,H(l),l.created||oe(),ge(u)},ol=(l,u)=>{let S=e.modelValue.slice();const T=ht(S,u.value);if(T>-1&&!U.value)return S=[...e.modelValue.slice(0,T),...e.modelValue.slice(T+1)],n.cachedOptions.splice(T,1),Me(S),t("remove-tag",u.value),n.softFocus=!0,D(u),x(ft);l.stopPropagation()},al=l=>{const u=n.isComposing;n.isComposing=!0,n.softFocus?n.softFocus=!1:u||t("focus",l)},St=l=>(n.softFocus=!1,x(()=>{var u,S;(S=(u=f.value)==null?void 0:u.blur)==null||S.call(u),j.value&&(n.calculatedWidth=j.value.getBoundingClientRect().width),n.isSilentBlur?n.isSilentBlur=!1:n.isComposing&&t("blur",l),n.isComposing=!1})),sl=()=>{n.displayInputValue.length>0?De(""):O.value=!1},il=l=>{if(n.displayInputValue.length===0){l.preventDefault();const u=e.modelValue.slice();u.pop(),D(n.cachedOptions.pop()),Me(u)}},rl=()=>{let l;return Le(e.modelValue)?l=[]:l=void 0,n.softFocus=!0,e.multiple?n.cachedOptions=[]:n.selectedLabel="",O.value=!1,Me(l),t("clear"),oe(),x(ft)},De=l=>{n.displayInputValue=l,n.inputValue=l},yt=(l,u=void 0)=>{const S=L.value;if(!["forward","backward"].includes(l)||U.value||S.length<=0||_.value)return;if(!O.value)return Je();u===void 0&&(u=n.hoveringIndex);let T=-1;l==="forward"?(T=u+1,T>=S.length&&(T=0)):l==="backward"&&(T=u-1,(T<0||T>=S.length)&&(T=S.length-1));const ae=S[T];if(ae.disabled||ae.type==="Group")return yt(l,T);ge(T),xe(T)},ul=()=>{if(O.value)~n.hoveringIndex&&L.value[n.hoveringIndex]&&bt(L.value[n.hoveringIndex],n.hoveringIndex,!1);else return Je()},ge=l=>{n.hoveringIndex=l},wt=()=>{n.hoveringIndex=-1},dl=()=>{var l;const u=f.value;u&&((l=u.focus)==null||l.call(u))},Vt=l=>{const u=l.target.value;if(De(u),n.displayInputValue.length>0&&!O.value&&(O.value=!0),n.calculatedWidth=j.value.getBoundingClientRect().width,e.multiple&&Xe(),e.remote)mt();else return pt()},cl=()=>(O.value=!1,St()),fl=()=>(n.inputValue=n.displayInputValue,x(()=>{~p.value&&(ge(p.value),xe(n.hoveringIndex))})),xe=l=>{a.value.scrollToItem(l)},_e=()=>{if(wt(),e.multiple)if(e.modelValue.length>0){let l=!1;n.cachedOptions.length=0,n.previousValue=e.modelValue.toString();for(const u of e.modelValue){const S=ze(u);if(K.value.has(S)){const{index:T,option:ae}=K.value.get(S);n.cachedOptions.push(ae),l||ge(T),l=!0}}}else n.cachedOptions=[],n.previousValue=void 0;else if(V.value){n.previousValue=e.modelValue;const l=L.value,u=l.findIndex(S=>ze(S.value)===ze(e.modelValue));~u?(n.selectedLabel=l[u].label,ge(u)):n.selectedLabel=`${e.modelValue}`}else n.selectedLabel="",n.previousValue=void 0;oe(),W()};return be(O,l=>{var u,S;t("visible-change",l),l?(S=(u=k.value).update)==null||S.call(u):(n.displayInputValue="",n.previousQuery=null,R(""))}),be(()=>e.modelValue,(l,u)=>{var S;(!l||l.toString()!==n.previousValue)&&_e(),!Mt(l,u)&&e.validateEvent&&((S=c==null?void 0:c.validate)==null||S.call(c,"change").catch(T=>Ql()))},{deep:!0}),be(()=>e.options,()=>{const l=f.value;(!l||l&&document.activeElement!==l)&&_e()},{deep:!0}),be(L,()=>a.value&&x(a.value.resetScrollTop)),be(()=>I.value,l=>{l||wt()}),ut(()=>{_e()}),Nl(q,gt),{collapseTagSize:re,currentPlaceholder:pe,expanded:O,emptyText:A,popupHeight:Y,debounce:C,filteredOptions:L,iconComponent:b,iconReverse:B,inputWrapperStyle:ue,popperSize:v,dropdownMenuVisible:I,hasModelValue:V,shouldShowPlaceholder:de,selectDisabled:U,selectSize:ee,showClearBtn:ne,states:n,tagMaxWidth:X,nsSelectV2:s,nsInput:r,calculatorRef:j,controlRef:i,inputRef:f,menuRef:a,popper:k,selectRef:q,selectionRef:$,popperRef:te,validateState:h,validateIcon:y,showTagList:z,collapseTagList:G,debouncedOnInputChange:mt,deleteTag:ol,getLabel:ll,getValueKey:ze,handleBlur:St,handleClear:rl,handleClickOutside:cl,handleDel:il,handleEsc:sl,handleFocus:al,handleMenuEnter:fl,handleResize:gt,toggleMenu:Je,scrollTo:xe,onInput:Vt,onKeyboardNavigate:yt,onKeyboardSelect:ul,onSelect:bt,onHover:ge,onUpdateInputValue:De,handleCompositionStart:me,handleCompositionEnd:Ae,handleCompositionUpdate:$e}},Ln=ye({name:"ElSelectV2",components:{ElSelectMenu:Tn,ElTag:vl,ElTooltip:Sl,ElIcon:Wl},directives:{ClickOutside:Yl,ModelText:Ll},props:yn,emits:[At,Dt,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const o=g(()=>{const{modelValue:r,multiple:d}=e,c=d?[]:void 0;return Le(r)?d?r:c:d?c:r}),s=Nn(je({...Ot(e),modelValue:o}),t);return kl(el,{props:je({...Ot(e),height:s.popupHeight,modelValue:o}),popper:s.popper,onSelect:s.onSelect,onHover:s.onHover,onKeyboardNavigate:s.onKeyboardNavigate,onKeyboardSelect:s.onKeyboardSelect}),{...s,modelValue:o}}}),kn={key:0},Bn=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],$n=["textContent"],An=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Dn=["textContent"];function Fn(e,t,o,s,r,d){const c=He("el-tag"),n=He("el-tooltip"),m=He("el-icon"),v=He("el-select-menu"),i=Ct("model-text"),f=Ct("click-outside");return Pe((M(),F("div",{ref:"selectRef",class:E([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=J((...a)=>e.toggleMenu&&e.toggleMenu(...a),["stop"])),onMouseenter:t[25]||(t[25]=a=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=a=>e.states.comboBoxHovering=!1)},[Z(n,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=a=>e.states.inputValue=e.states.displayInputValue)},{default:Q(()=>[P("div",{ref:"selectionRef",class:E([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(M(),F("div",kn,[We(e.$slots,"prefix")])):ve("v-if",!0),e.multiple?(M(),F("div",{key:1,class:E(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(M(),F(Ie,{key:0},[(M(!0),F(Ie,null,Ue(e.showTagList,a=>(M(),F("div",{key:e.getValueKey(a),class:E(e.nsSelectV2.e("selected-item"))},[Z(c,{closable:!e.selectDisabled&&!(a!=null&&a.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:k=>e.deleteTag(k,a)},{default:Q(()=>[P("span",{class:E(e.nsSelectV2.e("tags-text")),style:ie({maxWidth:`${e.tagMaxWidth}px`})},le(a==null?void 0:a.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),P("div",{class:E(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(M(),fe(c,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Q(()=>[e.collapseTagsTooltip?(M(),fe(n,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:Q(()=>[P("span",{class:E(e.nsSelectV2.e("tags-text")),style:ie({maxWidth:`${e.tagMaxWidth}px`})},"+ "+le(e.modelValue.length-e.maxCollapseTags),7)]),content:Q(()=>[P("div",{class:E(e.nsSelectV2.e("selection"))},[(M(!0),F(Ie,null,Ue(e.collapseTagList,a=>(M(),F("div",{key:e.getValueKey(a),class:E(e.nsSelectV2.e("selected-item"))},[Z(c,{closable:!e.selectDisabled&&!a.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:k=>e.deleteTag(k,a)},{default:Q(()=>[P("span",{class:E(e.nsSelectV2.e("tags-text")),style:ie({maxWidth:`${e.tagMaxWidth}px`})},le(e.getLabel(a)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(M(),F("span",{key:1,class:E(e.nsSelectV2.e("tags-text")),style:ie({maxWidth:`${e.tagMaxWidth}px`})},"+ "+le(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):ve("v-if",!0)],2)],64)):(M(!0),F(Ie,{key:1},Ue(e.states.cachedOptions,a=>(M(),F("div",{key:e.getValueKey(a),class:E(e.nsSelectV2.e("selected-item"))},[Z(c,{closable:!e.selectDisabled&&!a.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:k=>e.deleteTag(k,a)},{default:Q(()=>[P("span",{class:E(e.nsSelectV2.e("tags-text")),style:ie({maxWidth:`${e.tagMaxWidth}px`})},le(e.getLabel(a)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),P("div",{class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:ie(e.inputWrapperStyle)},[Pe(P("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:E([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...a)=>e.onUpdateInputValue&&e.onUpdateInputValue(...a)),onFocus:t[1]||(t[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onBlur:t[2]||(t[2]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onInput:t[3]||(t[3]=(...a)=>e.onInput&&e.onInput(...a)),onCompositionstart:t[4]||(t[4]=(...a)=>e.handleCompositionStart&&e.handleCompositionStart(...a)),onCompositionupdate:t[5]||(t[5]=(...a)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...a)),onCompositionend:t[6]||(t[6]=(...a)=>e.handleCompositionEnd&&e.handleCompositionEnd(...a)),onKeydown:[t[7]||(t[7]=ce(J(a=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[8]||(t[8]=ce(J(a=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[9]||(t[9]=ce(J((...a)=>e.onKeyboardSelect&&e.onKeyboardSelect(...a),["stop","prevent"]),["enter"])),t[10]||(t[10]=ce(J((...a)=>e.handleEsc&&e.handleEsc(...a),["stop","prevent"]),["esc"])),t[11]||(t[11]=ce(J((...a)=>e.handleDel&&e.handleDel(...a),["stop"]),["delete"]))]},null,42,Bn),[[i,e.states.displayInputValue]]),e.filterable?(M(),F("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:E(e.nsSelectV2.e("input-calculator")),textContent:le(e.states.displayInputValue)},null,10,$n)):ve("v-if",!0)],6)],2)):(M(),F(Ie,{key:2},[P("div",{class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Pe(P("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:E(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...a)=>e.handleCompositionStart&&e.handleCompositionStart(...a)),onCompositionupdate:t[13]||(t[13]=(...a)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...a)),onCompositionend:t[14]||(t[14]=(...a)=>e.handleCompositionEnd&&e.handleCompositionEnd(...a)),onFocus:t[15]||(t[15]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onBlur:t[16]||(t[16]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onInput:t[17]||(t[17]=(...a)=>e.onInput&&e.onInput(...a)),onKeydown:[t[18]||(t[18]=ce(J(a=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[19]||(t[19]=ce(J(a=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[20]||(t[20]=ce(J((...a)=>e.onKeyboardSelect&&e.onKeyboardSelect(...a),["stop","prevent"]),["enter"])),t[21]||(t[21]=ce(J((...a)=>e.handleEsc&&e.handleEsc(...a),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...a)=>e.onUpdateInputValue&&e.onUpdateInputValue(...a))},null,42,An),[[i,e.states.displayInputValue]])],2),e.filterable?(M(),F("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:le(e.states.displayInputValue)},null,10,Dn)):ve("v-if",!0)],64)),e.shouldShowPlaceholder?(M(),F("span",{key:3,class:E([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},le(e.currentPlaceholder),3)):ve("v-if",!0),P("span",{class:E(e.nsSelectV2.e("suffix"))},[e.iconComponent?Pe((M(),fe(m,{key:0,class:E([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Q(()=>[(M(),fe(Re(e.iconComponent)))]),_:1},8,["class"])),[[Bl,!e.showClearBtn]]):ve("v-if",!0),e.showClearBtn&&e.clearIcon?(M(),fe(m,{key:1,class:E([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:J(e.handleClear,["prevent","stop"])},{default:Q(()=>[(M(),fe(Re(e.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0),e.validateState&&e.validateIcon?(M(),fe(m,{key:2,class:E([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Q(()=>[(M(),fe(Re(e.validateIcon)))]),_:1},8,["class"])):ve("v-if",!0)],2)],2)]),content:Q(()=>[Z(v,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:Q(a=>[We(e.$slots,"default",$l(Al(a)))]),empty:Q(()=>[We(e.$slots,"empty",{},()=>[P("p",{class:E(e.nsSelectV2.e("empty"))},le(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[f,e.handleClickOutside,e.popperRef]])}var qe=dt(Ln,[["render",Fn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);qe.install=e=>{e.component(qe.name,qe)};const Hn=qe,Pn=Hn;function Kn(e){const{api:t}=e,o=N(!1),s=N([]),r=N(""),d=()=>{o.value=!0,s.value=[],t().then(c=>{s.value=c.data}).finally(()=>{o.value=!1})};return ut(()=>{d()}),{loading:o,options:s,value:r}}const Wn={code:0,data:[{label:"苹果",value:1},{label:"香蕉",value:2},{label:"橘子",value:3,disabled:!0}],message:"获取 Select 数据成功"};function Un(){return new Promise((e,t)=>{setTimeout(()=>{Math.random()<.8?e(Wn):t(new Error("接口发生错误"))},2e3)})}const Gn={class:"app-container"},qn=P("h4",null,"该示例是演示：通过 hook 自动调用 api 后拿到 Select 组件需要的数据并传递给 Select 组件",-1),jn=P("h5",null,"Select 示例",-1),Qn=P("h5",null,"Select V2 示例（如果数据量过多，可以选择该组件）",-1),go=ye({__name:"use-fetch-select",setup(e){const{loading:t,options:o,value:s}=Kn({api:Un});return(r,d)=>{const c=yl,n=wl,m=Pn;return M(),F("div",Gn,[qn,jn,Z(n,{loading:w(t),modelValue:w(s),"onUpdate:modelValue":d[0]||(d[0]=v=>Tt(s)?s.value=v:null),filterable:""},{default:Q(()=>[(M(!0),F(Ie,null,Ue(w(o),(v,i)=>(M(),fe(c,tt(v,{key:i,placeholder:"请选择"}),null,16))),128))]),_:1},8,["loading","modelValue"]),Qn,Z(m,{loading:w(t),modelValue:w(s),"onUpdate:modelValue":d[1]||(d[1]=v=>Tt(s)?s.value=v:null),options:w(o),filterable:"",placeholder:"请选择"},null,8,["loading","modelValue","options"])])}}});export{go as default};
