import{K as F}from"./el-button-fb691484.js";/* empty css                   */import{E as L,a as N}from"./el-col-2760619c.js";/* empty css                */import{d as R,f as S,j as I,k as P}from"./admin-ee59f3a1.js";import{E as p,a as M}from"./el-link-222bec93.js";import{d as W,r as o,k as e,ay as r,F as Q,o as $,v as _,y as j,A as q,B as l,C as f,D as A,I as G,E as K}from"./viewer-97ef37b1.js";import{_ as U}from"./dataDialog.vuevuetypescriptsetuptruelang-40690eb9.js";import{d as H,g as J}from"./index-1514aabe.js";import{a as O}from"./index-70f8277e.js";import{v as X}from"./directive-2e4aa6c9.js";import"./el-popper-17f91b7a.js";import"./debounce-38c8536c.js";import"./index-aec40419.js";import"./vnode-3a581f43.js";import"./aria-bc8e8b0f.js";import"./el-overlay-9e31ebb7.js";import"./refs-03c5e3c6.js";import"./el-input-number-aa0bf63c.js";import"./index-3ffe7cf2.js";import"./el-tree-select-04f4c75d.js";import"./index-203fd0f4.js";import"./index-471e79b5.js";const Y={class:"container-main"},Z={class:"table-main"},De=W({__name:"index",setup(ee){const n=o({pageNum:1,pageSize:10}),v=o(!0),i=o(!1),c=o([]),g=()=>{n.value={pageNum:1,pageSize:10},s()},b=()=>{s()},s=async()=>{i.value=!0,J(n.value).then(a=>{c.value=O(a.data.list)||[],i.value=!1})},h=o([{label:"部门名称",prop:"name",width:200,align:"left"},{label:"排序",prop:"sort",minWidth:100},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:a=>{var t;return e(Q,null,[e(p,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>u(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("新增")])]}),e(p,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>k(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("修改")])]}),!((t=a.row)!=null&&t.children)&&e(p,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>y(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("删除")])]})])}}]),m=o(null),u=a=>{m.value.openDialog({parentId:(a==null?void 0:a.id)||"0"})},k=a=>{m.value.openDialog(a)},y=({id:a})=>{M.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{H(a).then(t=>{t.code===0&&(R.success("删除成功"),s())})})};return $(()=>{s()}),(a,t)=>{const E=S,w=I,D=_("form-search"),x=P,C=F,T=L,B=N,z=_("Table"),V=X;return j(),q("div",Y,[e(G,{name:"fade"},{default:l(()=>[f(e(x,{model:n.value,inline:!0,"label-width":"auto",class:"search-form"},{default:l(()=>[e(w,{label:"部门名称",prop:"name"},{default:l(()=>[e(E,{modelValue:n.value.name,"onUpdate:modelValue":t[0]||(t[0]=d=>n.value.name=d),placeholder:"请输入部门名称",clearable:""},null,8,["modelValue"])]),_:1}),e(D,{onReset:g,onSearch:b})]),_:1},8,["model"]),[[A,v.value]])]),_:1}),K("div",Z,[e(B,{gutter:10,class:"mb8"},{default:l(()=>[e(T,{span:1.5},{default:l(()=>[e(C,{type:"primary",plain:"",icon:"plus",size:"small",onClick:t[1]||(t[1]=d=>u())},{default:l(()=>[r("新增")]),_:1})]),_:1})]),_:1}),f(e(z,{data:c.value,"row-key":"id",columns:h.value},null,8,["data","columns"]),[[V,i.value]])]),e(U,{ref_key:"dataDialogRef",ref:m,onGetPageList:s},null,512)])}}});export{De as default};
