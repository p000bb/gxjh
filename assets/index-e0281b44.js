/* empty css             *//* empty css                   */import{E as F,a as L}from"./el-col-c5c2ade1.js";import{E as M}from"./el-button-b054d70c.js";/* empty css                */import{E as R,a as S}from"./el-form-item-c56bbdeb.js";import{E as I}from"./el-input-351b3524.js";import{E as u}from"./el-link-bb4a05fd.js";import{d as W,r as l,k as e,ag as s,F as G,o as Q,v as f,y as d,A as $,B as a,C as h,D as q,I as A,E as K,x as g,Z as U,K as Z}from"./viewer-a917d3a0.js";import{_ as j}from"./dataDialog.vuevuetypescriptsetuptruelang-9959c394.js";import{d as H,g as J}from"./index-89576dc5.js";import{a as O}from"./index-a88dba86.js";import{E as X}from"./index-84823748.js";import{G as Y}from"./user-9279ed61.js";import{v as ee}from"./directive-a7cdde23.js";import"./use-form-item-a2dc758c.js";import"./use-form-common-props-957cc35c.js";import"./index-9899f039.js";import"./castArray-4f8be612.js";import"./error-f1912ce6.js";import"./_baseClone-be1d75cf.js";import"./_getTag-fe467e82.js";import"./el-overlay-b9b364f0.js";import"./index-09bc554b.js";import"./scroll-77ba8cf1.js";import"./vnode-37301cb0.js";import"./focus-trap-f79590ca.js";import"./refs-3c71427a.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-b532a2f5.js";import"./el-input-number-ca8828b1.js";import"./index-ee860d2d.js";import"./el-popover-8b729c6c.js";import"./dropdown-ab62d114.js";/* empty css                */import"./el-radio-d4edc31c.js";import"./el-tag-c034fee8.js";import"./el-select-9f1993c4.js";import"./el-scrollbar-a1856fc2.js";import"./strings-1de25abc.js";import"./isEqual-7c3b890c.js";import"./debounce-81d01b88.js";import"./hasIn-246c5c0e.js";import"./index-f9ce445f.js";import"./validator-6c2b9956.js";import"./el-tree-select-5355e3c7.js";import"./index-4af75670.js";import"./index-e005e917.js";import"./index-a4449389.js";import"./flatten-af461ab7.js";/* empty css                    */import"./aria-bc8e8b0f.js";const te={class:"container-main"},oe={class:"table-main"},ot=W({__name:"index",setup(ae){const r=l({pageNum:1,pageSize:10}),v=l(!0),m=l(!1),p=l([]),b=()=>{r.value={pageNum:1,pageSize:10},n()},E=()=>{n()},n=async()=>{m.value=!0,J(r.value).then(t=>{p.value=O(t.data.list)||[],p.value,m.value=!1})},y=l([{label:"菜单名称",prop:"name",width:200,align:"left"},{label:"图标",prop:"iconPath",type:"slot",width:100},{label:"排序",prop:"sort",minWidth:100},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:t=>{var o;return e(G,null,[e(u,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>_(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("新增")])]}),e(u,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>w(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("修改")])]}),!((o=t.row)!=null&&o.children)&&e(u,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>k(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("删除")])]})])}}]),c=l(null),_=t=>{c.value.openDialog({parentId:(t==null?void 0:t.id)||"0"})},w=t=>{c.value.openDialog(t)},k=({id:t})=>{X.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{H(t).then(o=>{o.code===0&&(Y.success("删除成功"),n())})})};return Q(()=>{n()}),(t,o)=>{const x=I,C=R,D=f("form-search"),B=S,P=M,T=F,V=L,z=f("Table"),N=ee;return d(),$("div",te,[e(A,{name:"fade"},{default:a(()=>[h(e(B,{model:r.value,inline:!0,"label-width":"auto",class:"search-form"},{default:a(()=>[e(C,{label:"菜单名称",prop:"name"},{default:a(()=>[e(x,{modelValue:r.value.name,"onUpdate:modelValue":o[0]||(o[0]=i=>r.value.name=i),placeholder:"请输入菜单名称",clearable:""},null,8,["modelValue"])]),_:1}),e(D,{onReset:b,onSearch:E})]),_:1},8,["model"]),[[q,v.value]])]),_:1}),K("div",oe,[e(V,{gutter:10,class:"mb8"},{default:a(()=>[e(T,{span:1.5},{default:a(()=>[e(P,{type:"primary",plain:"",icon:"plus",size:"small",onClick:o[1]||(o[1]=i=>_())},{default:a(()=>[s("新增")]),_:1})]),_:1})]),_:1}),h((d(),g(z,{data:p.value,"row-key":"id",columns:y.value},{iconPath:a(({scope:i})=>[i.row.iconPath?(d(),g(U(i.row.iconPath),{key:0,style:{height:"20px",width:"20px"}})):Z("",!0)]),_:1},8,["data","columns"])),[[N,m.value]])]),e(j,{ref_key:"dataDialogRef",ref:c,onGetPageList:n},null,512)])}}});export{ot as default};
