import{L as F}from"./el-button-534f93ec.js";/* empty css                   */import{E as I,a as P}from"./el-col-af40c86f.js";/* empty css                */import{d as R,f as M,n as U,o as W}from"./admin-d15e446e.js";import{E as d,a as Q}from"./el-link-b795f2cd.js";import{d as q,r as l,k as e,ay as r,F as A,o as G,v as c,y as $,A as j,B as s,C as _,D as v,I as H,E as J}from"./viewer-71a6cc7b.js";import{d as K,D as O,g as X}from"./dataDialog-c5253421.js";import{a as Y}from"./index-b7dce1f7.js";import{v as Z}from"./directive-44e37452.js";import"./el-popper-5f9a363e.js";import"./debounce-e240d589.js";import"./index-07157569.js";import"./vnode-d45677e0.js";import"./aria-bc8e8b0f.js";import"./el-overlay-56edc591.js";import"./refs-45d3232c.js";/* empty css                */import"./el-radio-2d139b26.js";import"./el-input-number-9046f3aa.js";import"./index-65fc4267.js";import"./el-tree-select-4038975f.js";import"./index-c21c62e8.js";import"./index-b59c1af4.js";import"./service copy-fb1d097e.js";import"./picDialog-756d8cbd.js";import"./index-d8f03a14.js";import"./videoDialog-6734c323.js";import"./index-0df10c68.js";const ee={class:"container-main"},ae={class:"table-main"},Le=q({__name:"index",setup(te){const o=l({pageNum:1,pageSize:10}),b=l(!0),m=l(!1),f=l([]),p=l(0),h=()=>{o.value={pageNum:1,pageSize:10},n()},y=()=>{n()},n=async()=>{m.value=!0,X(o.value).then(a=>{f.value=Y(a.data.list)||[],p.value=parseInt(a.data.total),m.value=!1})},E=l([{label:"节点名称",prop:"name",width:200,align:"left"},{label:"排序",prop:"sort",minWidth:100},{label:"创建时间",prop:"createTime",minWidth:150},{label:"更新时间",prop:"updateTime",minWidth:150},{label:"操作",prop:"option",fixed:"right",width:200,render:a=>{var t;return e(A,null,[e(d,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>g(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("新增")])]}),e(d,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>k(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("修改")])]}),!((t=a.row)!=null&&t.children)&&e(d,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>w(a.row)},{default:()=>[e("span",{class:"table_link_text"},[r("删除")])]})])}}]),u=l(null),g=a=>{u.value.openDialog({parentId:(a==null?void 0:a.id)||"0"})},k=a=>{u.value.openDialog(a)},w=({id:a})=>{Q.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{K(a).then(t=>{t.code===0&&(R.success("删除成功"),n())})})};return G(()=>{n()}),(a,t)=>{const D=M,x=U,C=c("form-search"),N=W,z=F,T=I,B=P,S=c("Table"),L=c("pagination"),V=Z;return $(),j("div",ee,[e(H,{name:"fade"},{default:s(()=>[_(e(N,{model:o.value,inline:!0,"label-width":"auto",class:"search-form"},{default:s(()=>[e(x,{label:"种类名称",prop:"name"},{default:s(()=>[e(D,{modelValue:o.value.name,"onUpdate:modelValue":t[0]||(t[0]=i=>o.value.name=i),placeholder:"请输入种类名称",clearable:""},null,8,["modelValue"])]),_:1}),e(C,{onReset:h,onSearch:y})]),_:1},8,["model"]),[[v,b.value]])]),_:1}),J("div",ae,[e(B,{gutter:10,class:"mb8"},{default:s(()=>[e(T,{span:1.5},{default:s(()=>[e(z,{type:"primary",plain:"",icon:"plus",size:"small",onClick:t[1]||(t[1]=i=>g())},{default:s(()=>[r("新增")]),_:1})]),_:1})]),_:1}),_(e(S,{data:f.value,"row-key":"id",columns:E.value},null,8,["data","columns"]),[[V,m.value]]),_(e(L,{total:p.value,page:o.value.pageNum,"onUpdate:page":t[2]||(t[2]=i=>o.value.pageNum=i),limit:o.value.pageSize,"onUpdate:limit":t[3]||(t[3]=i=>o.value.pageSize=i),onPagination:n},null,8,["total","page","limit"]),[[v,p.value>0]])]),e(O,{ref_key:"dataDialogRef",ref:u,onGetPageList:n},null,512)])}}});export{Le as default};
