/* empty css             *//* empty css                   */import{E as L,a as N}from"./el-col-8e530667.js";import{E as S}from"./el-button-4e36e058.js";/* empty css                */import{E as I,a as P}from"./el-form-item-ef0a5188.js";import{E as A}from"./el-input-7ff3e30e.js";import{E as s}from"./el-link-280dfa75.js";import{d as M,r as a,k as e,ag as r,F as W,o as G,v as f,y as Q,A as $,B as l,C as b,D as q,I as O,E as U}from"./viewer-a917d3a0.js";import{_ as j}from"./dataDialog.vuevuetypescriptsetuptruelang-f5406d7f.js";import H from"./optionDialog-3e547af2.js";import{d as J,a as K}from"./index-356d3bb1.js";import{a as X}from"./index-7a6f10c9.js";import{E as Y}from"./index-a9e8e7e8.js";import{G as Z}from"./user-89041d09.js";import{v as ee}from"./directive-39134a76.js";import"./use-form-item-a4463e9d.js";import"./use-form-common-props-ac54b10b.js";import"./index-cb7b6eb7.js";import"./castArray-4f8be612.js";import"./error-f1912ce6.js";import"./_baseClone-45ade047.js";import"./_getTag-fe0ae1ad.js";import"./el-overlay-1dc85f1f.js";import"./index-31848957.js";import"./scroll-77ba8cf1.js";import"./vnode-37301cb0.js";import"./focus-trap-c1ca97d6.js";import"./refs-3c71427a.js";import"./el-input-number-f0790d3e.js";import"./index-ee860d2d.js";import"./el-tag-e05e313c.js";import"./el-select-7c2b4cfc.js";import"./el-popper-bf9c0fd5.js";import"./el-scrollbar-874a5079.js";import"./strings-1de25abc.js";import"./isEqual-f03edc0e.js";import"./debounce-81d01b88.js";import"./hasIn-03b841fc.js";import"./index-0414d5d6.js";import"./validator-41f192c7.js";import"./el-tree-select-843cadf2.js";import"./index-04713145.js";import"./index-bd5a7bea.js";import"./index-0e87bdd6.js";import"./flatten-79638cde.js";/* empty css                    *//* empty css                */import"./fileDialog-b585fa24.js";import"./el-tab-pane-70e51e74.js";import"./index-8a931359.js";import"./index-da8f2145.js";import"./index-935e8e0f.js";import"./throttle-6e0fa96e.js";import"./aria-bc8e8b0f.js";const te={class:"container-main"},oe={class:"table-main"},it=M({__name:"index",setup(ae){const i=a({pageNum:1,pageSize:10}),g=a(!0),m=a(!1),u=a([]),v=()=>{i.value={pageNum:1,pageSize:10},n()},E=()=>{n()},n=async()=>{m.value=!0,K(i.value).then(t=>{u.value=X(t.data.list)||[],m.value=!1})},h=a([{label:"部门名称",prop:"name",width:200,align:"left"},{label:"排序",prop:"sort",minWidth:100},{label:"创建时间",prop:"createTime",minWidth:180},{label:"更新时间",prop:"updateTime",minWidth:180},{label:"操作",prop:"option",fixed:"right",width:300,render:t=>{var o;return e(W,null,[e(s,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>c(t.row)},{default:()=>[e("span",{class:"table_link_text"},[r("新增")])]}),e(s,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>k(t.row)},{default:()=>[e("span",{class:"table_link_text"},[r("修改")])]}),e(s,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>w(t.row)},{default:()=>[e("span",{class:"table_link_text"},[r("素材编辑")])]}),!((o=t.row)!=null&&o.children)&&e(s,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>y(t.row)},{default:()=>[e("span",{class:"table_link_text"},[r("删除")])]})])}}]),p=a(null),c=t=>{p.value.openDialog({parentId:(t==null?void 0:t.id)||"0"})},k=t=>{p.value.openDialog(t)},y=({id:t})=>{Y.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{J(t).then(o=>{o.code===0&&(Z.success("删除成功"),n())})})},d=a(null),w=t=>{d.value.openDialog(t)};return G(()=>{n()}),(t,o)=>{const D=A,x=I,C=f("form-search"),T=P,z=S,B=L,F=N,R=f("Table"),V=ee;return Q(),$("div",te,[e(O,{name:"fade"},{default:l(()=>[b(e(T,{model:i.value,inline:!0,"label-width":"auto",class:"search-form"},{default:l(()=>[e(x,{label:"图册名称",prop:"name"},{default:l(()=>[e(D,{modelValue:i.value.name,"onUpdate:modelValue":o[0]||(o[0]=_=>i.value.name=_),placeholder:"请输入图册名称",clearable:""},null,8,["modelValue"])]),_:1}),e(C,{onReset:v,onSearch:E})]),_:1},8,["model"]),[[q,g.value]])]),_:1}),U("div",oe,[e(F,{gutter:10,class:"mb8"},{default:l(()=>[e(B,{span:1.5},{default:l(()=>[e(z,{type:"primary",plain:"",icon:"plus",size:"small",onClick:o[1]||(o[1]=_=>c())},{default:l(()=>[r("新增")]),_:1})]),_:1})]),_:1}),b(e(R,{data:u.value,"row-key":"id",columns:h.value},null,8,["data","columns"]),[[V,m.value]])]),e(j,{ref_key:"dataDialogRef",ref:p,onGetPageList:n},null,512),e(H,{ref_key:"optionDialogRef",ref:d},null,512)])}}});export{it as default};
