/* empty css             *//* empty css                   */import{E as A}from"./el-overlay-1dc85f1f.js";import{E as G}from"./el-button-4e36e058.js";import{E as R,a as Y}from"./el-tab-pane-70e51e74.js";/* empty css                */import{E as H,a as J}from"./el-form-item-ef0a5188.js";import{E as K}from"./el-input-7ff3e30e.js";import{d as W,r as s,o as X,v as E,y as r,x as Z,B as n,E as f,k as l,ag as w,C as V,A as c,F as ee,$ as oe,L as ae,O as C,Y as te,D as le,ap as se}from"./viewer-a917d3a0.js";import{g as ne}from"./index-da8f2145.js";import{g as ie}from"./index-935e8e0f.js";import{G as re}from"./user-89041d09.js";import{v as me}from"./directive-39134a76.js";import"./index-31848957.js";import"./error-f1912ce6.js";import"./scroll-77ba8cf1.js";import"./vnode-37301cb0.js";import"./focus-trap-c1ca97d6.js";import"./refs-3c71427a.js";import"./index-cb7b6eb7.js";import"./use-form-item-a4463e9d.js";import"./use-form-common-props-ac54b10b.js";import"./strings-1de25abc.js";import"./index-8a931359.js";import"./castArray-4f8be612.js";import"./_baseClone-45ade047.js";import"./_getTag-fe0ae1ad.js";const ce={class:"table-main w-full"},pe={class:"grid grid-cols-4 gap-10 place-items-center w-full max-h-[500px] overflow-y-auto overflow-x-hidden","element-loading-background":"#fff","element-loading-text":"加载中！"},ue=["onClick"],de=["src"],_e=["src"],ve={class:"text-center font-black line-clamp-1"},fe={class:"dialog-footer"},ge=W({__name:"fileDialog",emits:["confirm"],setup(be,{expose:D,emit:N}){const i=s(0),S=N,g=s(""),m=s(!1),b="https://120.27.223.237/gxjh-file/",u=s(!1),h=s([]),t=s({pageNum:1,pageSize:10}),d=s(0),_=()=>{t.value={pageNum:1,pageSize:10},v()},B=()=>{v()},v=async()=>{u.value=!0;let o={};i.value===0?o=await ne(t.value):o=await ie(t.value),h.value=o.data.list||[],d.value=parseInt(o.data.total),u.value=!1},F=o=>{i.value=o.props.name,_()},L=()=>{m.value=!1},p=s({}),x=(o,a)=>{p.value={id:o.id,fileType:a||0}},T=()=>{if(!p.value.id)return re.error("请选择素材");m.value=!1,S("confirm",p.value)},U=async(o,a=0)=>{o!=null&&o.id&&x(o,a),_(),g.value="选择素材",m.value=!0};return X(()=>{}),D({openDialog:U}),(o,a)=>{const z=K,P=H,I=E("form-search"),M=J,y=R,O=Y,Q=E("pagination"),k=G,$=A,j=me;return r(),Z($,{title:g.value,modelValue:m.value,"onUpdate:modelValue":a[4]||(a[4]=e=>m.value=e),width:"1100px","close-on-click-modal":!1,"destroy-on-close":""},{footer:n(()=>[f("div",fe,[l(k,{onClick:L},{default:n(()=>[w("关 闭")]),_:1}),l(k,{type:"primary",onClick:T},{default:n(()=>[w("确 定")]),_:1})])]),default:n(()=>[l(M,{model:t.value,inline:!0,"label-width":"auto",class:"search-form"},{default:n(()=>[l(P,{label:"文件名称",prop:"name"},{default:n(()=>[l(z,{modelValue:t.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.name=e),placeholder:"请输入文件名称",clearable:""},null,8,["modelValue"])]),_:1}),l(I,{onReset:_,onSearch:B})]),_:1},8,["model"]),l(O,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),class:"demo-tabs",onTabClick:F},{default:n(()=>[l(y,{label:"图片素材",name:0}),l(y,{label:"视频素材",name:1})]),_:1},8,["modelValue"]),f("div",ce,[V((r(),c("div",pe,[(r(!0),c(ee,null,oe(h.value,(e,q)=>(r(),c("div",{key:q,class:ae(["img-item",{"active-img":p.value.id===e.id}]),onClick:he=>x(e,i.value)},[i.value===0?(r(),c("img",{key:0,src:C(b)+e.path,class:"w-[178px]"},null,8,de)):(r(),c("img",{key:1,src:C(b)+e.cover,class:"w-[178px]"},null,8,_e)),f("p",ve,te(e.name),1)],10,ue))),128))])),[[j,u.value]]),V(l(Q,{total:d.value,page:t.value.pageNum,"onUpdate:page":a[2]||(a[2]=e=>t.value.pageNum=e),limit:t.value.pageSize,"onUpdate:limit":a[3]||(a[3]=e=>t.value.pageSize=e),onPagination:v},null,8,["total","page","limit"]),[[le,d.value>0]])])]),_:1},8,["title","modelValue"])}}});const Ye=se(ge,[["__scopeId","data-v-a9b30c3b"]]);export{Ye as default};
