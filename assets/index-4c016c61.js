import{L as V}from"./el-button-534f93ec.js";/* empty css                   */import{E as N,a as S}from"./el-col-af40c86f.js";/* empty css                */import{d as I,f as P,n as A,o as M}from"./admin-d15e446e.js";import{E as r,a as W}from"./el-link-b795f2cd.js";import{d as Q,r as o,k as e,ay as s,F as $,o as q,v as f,y as G,A as O,B as l,C as b,D as U,I as j,E as H}from"./viewer-71a6cc7b.js";import{_ as J}from"./dataDialog.vuevuetypescriptsetuptruelang-555e35c8.js";import K from"./optionDialog-94bd7886.js";import{d as X,g as Y}from"./index-3931c74b.js";import{a as Z}from"./index-b7dce1f7.js";import{v as ee}from"./directive-44e37452.js";import"./el-popper-5f9a363e.js";import"./debounce-e240d589.js";import"./index-07157569.js";import"./vnode-d45677e0.js";import"./aria-bc8e8b0f.js";import"./el-overlay-56edc591.js";import"./refs-45d3232c.js";import"./el-input-number-9046f3aa.js";import"./index-65fc4267.js";import"./el-tree-select-4038975f.js";import"./index-c21c62e8.js";import"./index-b59c1af4.js";import"./fileDialog-c8273073.js";import"./el-tab-pane-4dd720c9.js";import"./index-58ca3b32.js";import"./index-d8f03a14.js";import"./service copy-fb1d097e.js";import"./index-0df10c68.js";const te={class:"container-main"},ae={class:"table-main"},Ne=Q({__name:"index",setup(oe){const n=o({pageNum:1,pageSize:10}),g=o(!0),m=o(!1),u=o([]),v=()=>{n.value={pageNum:1,pageSize:10},i()},h=()=>{i()},i=async()=>{m.value=!0,Y(n.value).then(t=>{u.value=Z(t.data.list)||[],m.value=!1})},k=o([{label:"部门名称",prop:"name",width:200,align:"left"},{label:"排序",prop:"sort",minWidth:100},{label:"创建时间",prop:"createTime",minWidth:180},{label:"更新时间",prop:"updateTime",minWidth:180},{label:"操作",prop:"option",fixed:"right",width:300,render:t=>{var a;return e($,null,[e(r,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>c(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("新增")])]}),e(r,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>y(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("修改")])]}),e(r,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>w(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("素材编辑")])]}),!((a=t.row)!=null&&a.children)&&e(r,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>E(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("删除")])]})])}}]),p=o(null),c=t=>{p.value.openDialog({parentId:(t==null?void 0:t.id)||"0"})},y=t=>{p.value.openDialog(t)},E=({id:t})=>{W.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{X(t).then(a=>{a.code===0&&(I.success("删除成功"),i())})})},d=o(null),w=t=>{d.value.openDialog(t)};return q(()=>{i()}),(t,a)=>{const D=P,x=A,C=f("form-search"),T=M,z=V,B=N,F=S,R=f("Table"),L=ee;return G(),O("div",te,[e(j,{name:"fade"},{default:l(()=>[b(e(T,{model:n.value,inline:!0,"label-width":"auto",class:"search-form"},{default:l(()=>[e(x,{label:"图册名称",prop:"name"},{default:l(()=>[e(D,{modelValue:n.value.name,"onUpdate:modelValue":a[0]||(a[0]=_=>n.value.name=_),placeholder:"请输入图册名称",clearable:""},null,8,["modelValue"])]),_:1}),e(C,{onReset:v,onSearch:h})]),_:1},8,["model"]),[[U,g.value]])]),_:1}),H("div",ae,[e(F,{gutter:10,class:"mb8"},{default:l(()=>[e(B,{span:1.5},{default:l(()=>[e(z,{type:"primary",plain:"",icon:"plus",size:"small",onClick:a[1]||(a[1]=_=>c())},{default:l(()=>[s("新增")]),_:1})]),_:1})]),_:1}),b(e(R,{data:u.value,"row-key":"id",columns:k.value},null,8,["data","columns"]),[[L,m.value]])]),e(J,{ref_key:"dataDialogRef",ref:p,onGetPageList:i},null,512),e(K,{ref_key:"optionDialogRef",ref:d},null,512)])}}});export{Ne as default};
