/* empty css             */import{E as w}from"./el-overlay-b9b364f0.js";import{E as C}from"./el-button-b054d70c.js";/* empty css                */import{E as I}from"./el-input-number-ca8828b1.js";import{E as x}from"./el-input-351b3524.js";import{E as B,a as h}from"./el-form-item-c56bbdeb.js";import{u as D,a as N,b as q}from"./index-c9faec7c.js";import{G as U}from"./user-9279ed61.js";import{d as F,r as n,y as L,x as P,B as a,E as R,k as l,ag as p}from"./viewer-a917d3a0.js";const T={class:"dialog-footer"},X=F({__name:"dataDialog",emits:["getPageList"],setup(G,{expose:c,emit:f}){const _=f,u=n(),s=n(!1),m=n(),t=n({}),g=n({name:[{required:!0,message:"请输入名称",trigger:"change"}],code:[{required:!0,message:"请输入标识",trigger:"change"}],sort:[{required:!0,message:"请输入排序",trigger:"change"}]}),v=()=>{s.value=!1},E=()=>{var o;(o=m.value)==null||o.validate(async e=>{e&&(t.value.id?await D(t.value):await N(t.value),s.value=!1,U.success("操作成功"),_("getPageList"))})};return c({openDialog:async o=>{if(o!=null&&o.id){const e=await q(o.id);t.value={id:e.data.id,parentId:e.data.parentId,name:e.data.name,sort:e.data.sort},u.value="修改文件种类",s.value=!0}else t.value={parentId:(o==null?void 0:o.parentId)||0},u.value="新增文件种类",s.value=!0}}),(o,e)=>{const V=x,i=B,y=I,b=h,d=C,k=w;return L(),P(k,{title:u.value,modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=r=>s.value=r),width:"40%","close-on-click-modal":!1,"destroy-on-close":""},{footer:a(()=>[R("div",T,[l(d,{onClick:v},{default:a(()=>[p("取 消")]),_:1}),l(d,{type:"primary",onClick:E},{default:a(()=>[p("保 存")]),_:1})])]),default:a(()=>[l(b,{ref_key:"formRef",ref:m,model:t.value,rules:g.value,"label-width":"auto"},{default:a(()=>[l(i,{label:"名称：",prop:"name"},{default:a(()=>[l(V,{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.name=r),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),l(i,{label:"排序：",prop:"sort"},{default:a(()=>[l(y,{modelValue:t.value.sort,"onUpdate:modelValue":e[1]||(e[1]=r=>t.value.sort=r),min:0,"controls-position":"right",class:"w-full"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}}});export{X as _};
