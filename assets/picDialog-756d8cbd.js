import{L as R}from"./el-button-534f93ec.js";/* empty css                   */import{E as T}from"./el-overlay-56edc591.js";/* empty css                */import{d as q,f as A,n as O,o as W}from"./admin-d15e446e.js";import{d as $,r as l,o as j,v as b,y as c,x as G,B as s,E as m,k as n,ay as k,C as E,A as _,F as H,aQ as J,M as K,L as X,az as Y,D as Z,b6 as ee}from"./viewer-71a6cc7b.js";import{g as oe}from"./index-d8f03a14.js";import{v as ae}from"./directive-44e37452.js";import"./index-07157569.js";import"./el-popper-5f9a363e.js";import"./vnode-d45677e0.js";import"./refs-45d3232c.js";import"./debounce-e240d589.js";import"./service copy-fb1d097e.js";const te={class:"table-main w-full"},le={class:"grid grid-cols-4 gap-10 place-items-center w-full max-h-[500px] overflow-y-auto overflow-x-hidden","element-loading-background":"#fff","element-loading-text":"加载中！"},ne=["onClick"],se=["src"],ie={class:"text-center font-black line-clamp-1"},re={class:"dialog-footer"},ce=$({__name:"picDialog",emits:["confirm"],setup(me,{expose:V,emit:w}){const D=w,v=l(""),i=l(!1),g={}.VITE_PREVIEW_URL,u=l(!1),f=l([]),a=l({pageNum:1,pageSize:10}),p=l(0),h=()=>{a.value={pageNum:1,pageSize:10},d()},C=()=>{d()},d=async()=>{u.value=!0,oe(a.value).then(o=>{f.value=o.data.list||[],p.value=parseInt(o.data.total),u.value=!1})},I=()=>{i.value=!1},r=l({}),x=o=>{r.value={id:o.id,url:g+o.path}},L=()=>{if(!r.value.id)return q.error("请选择图片");i.value=!1,D("confirm",r.value)},N=async o=>{o!=null&&o.id&&x(o),h(),v.value="选择图片",i.value=!0};return j(()=>{}),V({openDialog:N}),(o,t)=>{const S=A,z=O,B=b("form-search"),P=W,U=b("pagination"),y=R,F=T,M=ae;return c(),G(F,{title:v.value,modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),width:"1100px","close-on-click-modal":!1,"destroy-on-close":""},{footer:s(()=>[m("div",re,[n(y,{onClick:I},{default:s(()=>[k("关 闭")]),_:1}),n(y,{type:"primary",onClick:L},{default:s(()=>[k("确 定")]),_:1})])]),default:s(()=>[n(P,{model:a.value,inline:!0,"label-width":"auto",class:"search-form"},{default:s(()=>[n(z,{label:"图片名称",prop:"name"},{default:s(()=>[n(S,{modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.name=e),placeholder:"请输入图片名称",clearable:""},null,8,["modelValue"])]),_:1}),n(B,{onReset:h,onSearch:C})]),_:1},8,["model"]),m("div",te,[E((c(),_("div",le,[(c(!0),_(H,null,J(f.value,(e,Q)=>(c(),_("div",{key:Q,class:K(["img-item",{"active-img":r.value.id===e.id}]),onClick:ue=>x(e)},[m("img",{src:X(g)+e.path,class:"w-[178px]"},null,8,se),m("p",ie,Y(e.name),1)],10,ne))),128))])),[[M,u.value]]),E(n(U,{total:p.value,page:a.value.pageNum,"onUpdate:page":t[1]||(t[1]=e=>a.value.pageNum=e),limit:a.value.pageSize,"onUpdate:limit":t[2]||(t[2]=e=>a.value.pageSize=e),onPagination:d},null,8,["total","page","limit"]),[[Z,p.value>0]])])]),_:1},8,["title","modelValue"])}}});const De=ee(ce,[["__scopeId","data-v-b2c40ec4"]]);export{De as default};
