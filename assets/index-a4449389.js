import{cY as de,aK as be,ao as O,i as I,b as g,w as j,ac as W,g as Z,r as N,a9 as E,aa as ce,cu as U,d as L,M as H,y as C,x as J,B as Q,E as A,L as x,O as t,C as $,A as y,j as w,aw as V,cC as F,G as T,F as ve,ag as X,Y as _,K as z,Z as ee,ak as me,a7 as fe,ab as ke}from"./viewer-a917d3a0.js";import{a9 as pe,aa as ge,a2 as he,q as ae,g as q,h as D,t as P,f as R,_ as K,a as xe,d as Ce,w as ye,v as le}from"./user-9279ed61.js";import{U as G}from"./el-input-351b3524.js";import{a as Se,u as Y}from"./use-form-common-props-957cc35c.js";import{a as M,b as ne}from"./use-form-item-a2dc758c.js";import{d as te,i as Le}from"./error-f1912ce6.js";import{i as Be}from"./isEqual-7c3b890c.js";import{h as Ee}from"./hasIn-246c5c0e.js";import{f as Ie}from"./flatten-af461ab7.js";function $e(e){return pe(ge(e,void 0,Ie),e+"")}function we(e,i,u){for(var a=-1,k=i.length,b={};++a<k;){var c=i[a],o=he(e,c);u(o,c)&&de(b,be(c,e),o)}return b}function Ve(e,i){return we(e,i,function(u,a){return Ee(e,a)})}var Fe=$e(function(e,i){return e==null?{}:Ve(e,i)});const Ge=Fe,oe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:ae,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},se={[G]:e=>O(e)||q(e)||D(e),change:e=>O(e)||q(e)||D(e)},B=Symbol("checkboxGroupContextKey"),Ne=({model:e,isChecked:i})=>{const u=I(B,void 0),a=g(()=>{var b,c;const o=(b=u==null?void 0:u.max)==null?void 0:b.value,v=(c=u==null?void 0:u.min)==null?void 0:c.value;return!P(o)&&e.value.length>=o&&!i.value||!P(v)&&e.value.length<=v&&i.value});return{isDisabled:Se(g(()=>(u==null?void 0:u.disabled.value)||a.value)),isLimitDisabled:a}},ze=(e,{model:i,isLimitExceeded:u,hasOwnLabel:a,isDisabled:k,isLabeledByFormItem:b})=>{const c=I(B,void 0),{formItem:o}=M(),{emit:v}=Z();function l(n){var d,f;return n===e.trueLabel||n===!0?(d=e.trueLabel)!=null?d:!0:(f=e.falseLabel)!=null?f:!1}function m(n,d){v("change",l(n),d)}function p(n){if(u.value)return;const d=n.target;v("change",l(d.checked),n)}async function S(n){u.value||!a.value&&!k.value&&b.value&&(n.composedPath().some(r=>r.tagName==="LABEL")||(i.value=l([!1,e.falseLabel].includes(i.value)),await W(),m(i.value,n)))}const s=g(()=>(c==null?void 0:c.validateEvent)||e.validateEvent);return j(()=>e.modelValue,()=>{s.value&&(o==null||o.validate("change").catch(n=>te()))}),{handleChange:p,onClickRoot:S}},De=e=>{const i=N(!1),{emit:u}=Z(),a=I(B,void 0),k=g(()=>P(a)===!1),b=N(!1);return{model:g({get(){var o,v;return k.value?(o=a==null?void 0:a.modelValue)==null?void 0:o.value:(v=e.modelValue)!=null?v:i.value},set(o){var v,l;k.value&&E(o)?(b.value=((v=a==null?void 0:a.max)==null?void 0:v.value)!==void 0&&o.length>(a==null?void 0:a.max.value),b.value===!1&&((l=a==null?void 0:a.changeEvent)==null||l.call(a,o))):(u(G,o),i.value=o)}}),isGroup:k,isLimitExceeded:b}},Pe=(e,i,{model:u})=>{const a=I(B,void 0),k=N(!1),b=g(()=>{const l=u.value;return D(l)?l:E(l)?ce(e.label)?l.map(U).some(m=>Be(m,e.label)):l.map(U).includes(e.label):l!=null?l===e.trueLabel:!!l}),c=Y(g(()=>{var l;return(l=a==null?void 0:a.size)==null?void 0:l.value}),{prop:!0}),o=Y(g(()=>{var l;return(l=a==null?void 0:a.size)==null?void 0:l.value})),v=g(()=>!!i.default||!Le(e.label));return{checkboxButtonSize:c,isChecked:b,isFocused:k,checkboxSize:o,hasOwnLabel:v}},Te=(e,{model:i})=>{function u(){E(i.value)&&!i.value.includes(e.label)?i.value.push(e.label):i.value=e.trueLabel||!0}e.checked&&u()},ie=(e,i)=>{const{formItem:u}=M(),{model:a,isGroup:k,isLimitExceeded:b}=De(e),{isFocused:c,isChecked:o,checkboxButtonSize:v,checkboxSize:l,hasOwnLabel:m}=Pe(e,i,{model:a}),{isDisabled:p}=Ne({model:a,isChecked:o}),{inputId:S,isLabeledByFormItem:s}=ne(e,{formItemContext:u,disableIdGeneration:m,disableIdManagement:k}),{handleChange:n,onClickRoot:d}=ze(e,{model:a,isLimitExceeded:b,hasOwnLabel:m,isDisabled:p,isLabeledByFormItem:s});return Te(e,{model:a}),{inputId:S,isLabeledByFormItem:s,isChecked:o,isDisabled:p,isFocused:c,checkboxButtonSize:v,checkboxSize:l,hasOwnLabel:m,model:a,handleChange:n,onClickRoot:d}},Re=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Ke=["id","indeterminate","disabled","value","name","tabindex"],Me=L({name:"ElCheckbox"}),Oe=L({...Me,props:oe,emits:se,setup(e){const i=e,u=H(),{inputId:a,isLabeledByFormItem:k,isChecked:b,isDisabled:c,isFocused:o,checkboxSize:v,hasOwnLabel:l,model:m,handleChange:p,onClickRoot:S}=ie(i,u),s=R("checkbox"),n=g(()=>[s.b(),s.m(v.value),s.is("disabled",c.value),s.is("bordered",i.border),s.is("checked",b.value)]),d=g(()=>[s.e("input"),s.is("disabled",c.value),s.is("checked",b.value),s.is("indeterminate",i.indeterminate),s.is("focus",o.value)]);return(f,r)=>(C(),J(ee(!t(l)&&t(k)?"span":"label"),{class:x(t(n)),"aria-controls":f.indeterminate?f.controls:null,onClick:t(S)},{default:Q(()=>[A("span",{class:x(t(d))},[f.trueLabel||f.falseLabel?$((C(),y("input",{key:0,id:t(a),"onUpdate:modelValue":r[0]||(r[0]=h=>w(m)?m.value=h:null),class:x(t(s).e("original")),type:"checkbox",indeterminate:f.indeterminate,name:f.name,tabindex:f.tabindex,disabled:t(c),"true-value":f.trueLabel,"false-value":f.falseLabel,onChange:r[1]||(r[1]=(...h)=>t(p)&&t(p)(...h)),onFocus:r[2]||(r[2]=h=>o.value=!0),onBlur:r[3]||(r[3]=h=>o.value=!1),onClick:r[4]||(r[4]=V(()=>{},["stop"]))},null,42,Re)),[[F,t(m)]]):$((C(),y("input",{key:1,id:t(a),"onUpdate:modelValue":r[5]||(r[5]=h=>w(m)?m.value=h:null),class:x(t(s).e("original")),type:"checkbox",indeterminate:f.indeterminate,disabled:t(c),value:f.label,name:f.name,tabindex:f.tabindex,onChange:r[6]||(r[6]=(...h)=>t(p)&&t(p)(...h)),onFocus:r[7]||(r[7]=h=>o.value=!0),onBlur:r[8]||(r[8]=h=>o.value=!1),onClick:r[9]||(r[9]=V(()=>{},["stop"]))},null,42,Ke)),[[F,t(m)]]),A("span",{class:x(t(s).e("inner"))},null,2)],2),t(l)?(C(),y("span",{key:0,class:x(t(s).e("label"))},[T(f.$slots,"default"),f.$slots.default?z("v-if",!0):(C(),y(ve,{key:0},[X(_(f.label),1)],64))],2)):z("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Ue=K(Oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Ae=["name","tabindex","disabled","true-value","false-value"],qe=["name","tabindex","disabled","value"],Ye=L({name:"ElCheckboxButton"}),je=L({...Ye,props:oe,emits:se,setup(e){const i=e,u=H(),{isFocused:a,isChecked:k,isDisabled:b,checkboxButtonSize:c,model:o,handleChange:v}=ie(i,u),l=I(B,void 0),m=R("checkbox"),p=g(()=>{var s,n,d,f;const r=(n=(s=l==null?void 0:l.fill)==null?void 0:s.value)!=null?n:"";return{backgroundColor:r,borderColor:r,color:(f=(d=l==null?void 0:l.textColor)==null?void 0:d.value)!=null?f:"",boxShadow:r?`-1px 0 0 0 ${r}`:void 0}}),S=g(()=>[m.b("button"),m.bm("button",c.value),m.is("disabled",b.value),m.is("checked",k.value),m.is("focus",a.value)]);return(s,n)=>(C(),y("label",{class:x(t(S))},[s.trueLabel||s.falseLabel?$((C(),y("input",{key:0,"onUpdate:modelValue":n[0]||(n[0]=d=>w(o)?o.value=d:null),class:x(t(m).be("button","original")),type:"checkbox",name:s.name,tabindex:s.tabindex,disabled:t(b),"true-value":s.trueLabel,"false-value":s.falseLabel,onChange:n[1]||(n[1]=(...d)=>t(v)&&t(v)(...d)),onFocus:n[2]||(n[2]=d=>a.value=!0),onBlur:n[3]||(n[3]=d=>a.value=!1),onClick:n[4]||(n[4]=V(()=>{},["stop"]))},null,42,Ae)),[[F,t(o)]]):$((C(),y("input",{key:1,"onUpdate:modelValue":n[5]||(n[5]=d=>w(o)?o.value=d:null),class:x(t(m).be("button","original")),type:"checkbox",name:s.name,tabindex:s.tabindex,disabled:t(b),value:s.label,onChange:n[6]||(n[6]=(...d)=>t(v)&&t(v)(...d)),onFocus:n[7]||(n[7]=d=>a.value=!0),onBlur:n[8]||(n[8]=d=>a.value=!1),onClick:n[9]||(n[9]=V(()=>{},["stop"]))},null,42,qe)),[[F,t(o)]]),s.$slots.default||s.label?(C(),y("span",{key:2,class:x(t(m).be("button","inner")),style:me(t(k)?t(p):void 0)},[T(s.$slots,"default",{},()=>[X(_(s.label),1)])],6)):z("v-if",!0)],2))}});var ue=K(je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const We=xe({modelValue:{type:Ce(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ae,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Ze={[G]:e=>E(e),change:e=>E(e)},He=L({name:"ElCheckboxGroup"}),Je=L({...He,props:We,emits:Ze,setup(e,{emit:i}){const u=e,a=R("checkbox"),{formItem:k}=M(),{inputId:b,isLabeledByFormItem:c}=ne(u,{formItemContext:k}),o=async l=>{i(G,l),await W(),i("change",l)},v=g({get(){return u.modelValue},set(l){o(l)}});return fe(B,{...Ge(ke(u),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:v,changeEvent:o}),j(()=>u.modelValue,()=>{u.validateEvent&&(k==null||k.validate("change").catch(l=>te()))}),(l,m)=>{var p;return C(),J(ee(l.tag),{id:t(b),class:x(t(a).b("group")),role:"group","aria-label":t(c)?void 0:l.label||"checkbox-group","aria-labelledby":t(c)?(p=t(k))==null?void 0:p.labelId:void 0},{default:Q(()=>[T(l.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var re=K(Je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const sa=ye(Ue,{CheckboxButton:ue,CheckboxGroup:re});le(ue);le(re);export{sa as E,Ge as p};
