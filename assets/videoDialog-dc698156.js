import{K as j}from"./el-button-fb691484.js";/* empty css                   */import{E as T}from"./el-overlay-9e31ebb7.js";/* empty css                */import{d as q,f as A,j as K,k as O}from"./admin-ee59f3a1.js";import{d as R,r as l,o as $,v as y,y as c,x as G,B as n,E as m,k as s,ay as k,C as V,A as v,F as H,aQ as J,M as W,L as X,az as Y,D as Z,b6 as ee}from"./viewer-97ef37b1.js";import{g as oe}from"./index-91087f1d.js";import{v as ae}from"./directive-2e4aa6c9.js";import"./index-aec40419.js";import"./el-popper-17f91b7a.js";import"./vnode-3a581f43.js";import"./refs-03c5e3c6.js";import"./debounce-38c8536c.js";const te={class:"table-main w-full"},le={class:"grid grid-cols-4 gap-10 place-items-center w-full max-h-[500px] overflow-y-auto overflow-x-hidden","element-loading-background":"#fff","element-loading-text":"加载中！"},se=["onClick"],ne=["src"],ie={class:"text-center font-black line-clamp-1"},re={class:"dialog-footer"},ce=R({__name:"videoDialog",emits:["confirm"],setup(me,{expose:w,emit:D}){const C=D,f=l(""),i=l(!1),u="https://120.27.223.237/gxjh-file",d=l(!1),g=l([]),a=l({pageNum:1,pageSize:10}),p=l(0),h=()=>{a.value={pageNum:1,pageSize:10},_()},E=()=>{_()},_=async()=>{d.value=!0,oe(a.value).then(e=>{g.value=e.data.list||[],p.value=parseInt(e.data.total),d.value=!1})},N=()=>{i.value=!1},r=l({}),x=e=>{r.value={id:e.id,url:u+e.path,cover:u+e.cover}},S=()=>{if(!r.value.id)return q.error("请选择视频");i.value=!1,C("confirm",r.value)},z=async e=>{e!=null&&e.id&&x(e),h(),f.value="选择视频",i.value=!0};return $(()=>{}),w({openDialog:z}),(e,t)=>{const B=A,L=K,U=y("form-search"),F=O,I=y("pagination"),b=j,M=T,P=ae;return c(),G(M,{title:f.value,modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=o=>i.value=o),width:"1100px","close-on-click-modal":!1,"destroy-on-close":""},{footer:n(()=>[m("div",re,[s(b,{onClick:N},{default:n(()=>[k("关 闭")]),_:1}),s(b,{type:"primary",onClick:S},{default:n(()=>[k("确 定")]),_:1})])]),default:n(()=>[s(F,{model:a.value,inline:!0,"label-width":"auto",class:"search-form"},{default:n(()=>[s(L,{label:"视频名称",prop:"name"},{default:n(()=>[s(B,{modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.name=o),placeholder:"请输入视频名称",clearable:""},null,8,["modelValue"])]),_:1}),s(U,{onReset:h,onSearch:E})]),_:1},8,["model"]),m("div",te,[V((c(),v("div",le,[(c(!0),v(H,null,J(g.value,(o,Q)=>(c(),v("div",{key:Q,class:W(["img-item",{"active-img":r.value.id===o.id}]),onClick:ue=>x(o)},[m("img",{src:X(u)+o.cover,class:"w-[178px]"},null,8,ne),m("p",ie,Y(o.name),1)],10,se))),128))])),[[P,d.value]]),V(s(I,{total:p.value,page:a.value.pageNum,"onUpdate:page":t[1]||(t[1]=o=>a.value.pageNum=o),limit:a.value.pageSize,"onUpdate:limit":t[2]||(t[2]=o=>a.value.pageSize=o),onPagination:_},null,8,["total","page","limit"]),[[Z,p.value>0]])])]),_:1},8,["title","modelValue"])}}});const De=ee(ce,[["__scopeId","data-v-b1dd3fcb"]]);export{De as default};
