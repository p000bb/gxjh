/* empty css             *//* empty css                   */import{E as F,a as I}from"./el-col-8e530667.js";import{E as L}from"./el-button-4e36e058.js";/* empty css                */import{E as P,a as R}from"./el-form-item-ef0a5188.js";import{E as M}from"./el-input-7ff3e30e.js";import{E as c}from"./el-link-280dfa75.js";import{d as G,r as n,k as e,ag as s,F as Q,o as W,v as d,y as $,A as q,B as i,C as _,D as E,I as A,E as j}from"./viewer-a917d3a0.js";import{d as H,_ as J,g as K}from"./dataDialog.vuevuetypescriptsetuptruelang-9de40981.js";import{a as O}from"./index-7a6f10c9.js";import{E as X}from"./index-a9e8e7e8.js";import{G as Y}from"./user-89041d09.js";import{v as Z}from"./directive-39134a76.js";import"./use-form-item-a4463e9d.js";import"./use-form-common-props-ac54b10b.js";import"./index-cb7b6eb7.js";import"./castArray-4f8be612.js";import"./error-f1912ce6.js";import"./_baseClone-45ade047.js";import"./_getTag-fe0ae1ad.js";import"./el-overlay-1dc85f1f.js";import"./index-31848957.js";import"./scroll-77ba8cf1.js";import"./vnode-37301cb0.js";import"./focus-trap-c1ca97d6.js";import"./refs-3c71427a.js";import"./el-tag-e05e313c.js";import"./el-select-7c2b4cfc.js";import"./el-popper-bf9c0fd5.js";import"./el-scrollbar-874a5079.js";import"./strings-1de25abc.js";import"./isEqual-f03edc0e.js";import"./debounce-81d01b88.js";import"./hasIn-03b841fc.js";import"./index-0414d5d6.js";import"./validator-41f192c7.js";import"./el-radio-dbc603cb.js";import"./el-tree-select-843cadf2.js";import"./index-04713145.js";import"./index-bd5a7bea.js";import"./index-0e87bdd6.js";import"./flatten-79638cde.js";/* empty css                    */import"./index-f0d791bd.js";import"./index-0741b2b9.js";import"./aria-bc8e8b0f.js";const ee={class:"container-main"},te={class:"table-main"},Oe=G({__name:"index",setup(ae){const o=n({pageNum:1,pageSize:10}),k=n(!0),m=n(!1),f=n([]),p=n(0),y=()=>{o.value={pageNum:1,pageSize:10},r()},h=()=>{r()},r=async()=>{m.value=!0,K(o.value).then(t=>{f.value=O(t.data.list)||[],p.value=parseInt(t.data.total),m.value=!1})},w=n([{label:"用户昵称",prop:"nickname",width:200},{label:"用户账号",prop:"account",width:200},{label:"部门",prop:"deptName",width:200},{label:"状态",prop:"state",type:"dict",dict:[{label:"正常",value:"0"},{label:"禁用",value:"1",elTagType:"danger"}]},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:t=>{var a;return e(Q,null,[e(c,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>g(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("新增")])]}),e(c,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>x(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("修改")])]}),!((a=t.row)!=null&&a.children)&&e(c,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>D(t.row)},{default:()=>[e("span",{class:"table_link_text"},[s("删除")])]})])}}]),u=n(null),g=t=>{u.value.openDialog({parentId:(t==null?void 0:t.id)||0})},x=t=>{u.value.openDialog(t)},D=({id:t})=>{X.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{H(t).then(a=>{a.code===0&&(Y.success("删除成功"),r())})})};return W(()=>{r()}),(t,a)=>{const v=M,b=P,T=d("form-search"),C=R,V=L,z=F,N=I,B=d("Table"),S=d("pagination"),U=Z;return $(),q("div",ee,[e(A,{name:"fade"},{default:i(()=>[_(e(C,{model:o.value,inline:!0,"label-width":"auto",class:"search-form"},{default:i(()=>[e(b,{label:"用户昵称",prop:"nickname"},{default:i(()=>[e(v,{modelValue:o.value.nickname,"onUpdate:modelValue":a[0]||(a[0]=l=>o.value.nickname=l),placeholder:"请输入种类名称",clearable:""},null,8,["modelValue"])]),_:1}),e(b,{label:"用户账号",prop:"account"},{default:i(()=>[e(v,{modelValue:o.value.account,"onUpdate:modelValue":a[1]||(a[1]=l=>o.value.account=l),placeholder:"请输入用户账号",clearable:""},null,8,["modelValue"])]),_:1}),e(T,{onReset:y,onSearch:h})]),_:1},8,["model"]),[[E,k.value]])]),_:1}),j("div",te,[e(N,{gutter:10,class:"mb8"},{default:i(()=>[e(z,{span:1.5},{default:i(()=>[e(V,{type:"primary",plain:"",icon:"plus",size:"small",onClick:a[2]||(a[2]=l=>g())},{default:i(()=>[s("新增")]),_:1})]),_:1})]),_:1}),_(e(B,{data:f.value,"row-key":"id",columns:w.value},null,8,["data","columns"]),[[U,m.value]]),_(e(S,{total:p.value,page:o.value.pageNum,"onUpdate:page":a[3]||(a[3]=l=>o.value.pageNum=l),limit:o.value.pageSize,"onUpdate:limit":a[4]||(a[4]=l=>o.value.pageSize=l),onPagination:r},null,8,["total","page","limit"]),[[E,p.value>0]])]),e(J,{ref_key:"dataDialogRef",ref:u,onGetPageList:r},null,512)])}}});export{Oe as default};
