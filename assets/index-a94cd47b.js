import{K as F}from"./el-button-fb691484.js";/* empty css                   */import{E as L,a as M}from"./el-col-2760619c.js";/* empty css                */import{d as R,f as S,j as I,k as W}from"./admin-ee59f3a1.js";import{E as u,a as K}from"./el-link-222bec93.js";import{d as Q,r as l,k as e,ay as i,F as $,o as j,v as f,y as d,A as q,B as o,C as h,D as A,I as G,E as U,x as v,aw as H,K as J}from"./viewer-97ef37b1.js";import{_ as O}from"./dataDialog.vuevuetypescriptsetuptruelang-e89fc3ce.js";import{d as X,g as Y}from"./index-7117e706.js";import{a as Z}from"./index-70f8277e.js";import{v as ee}from"./directive-2e4aa6c9.js";import"./el-popper-17f91b7a.js";import"./debounce-38c8536c.js";import"./index-aec40419.js";import"./vnode-3a581f43.js";import"./aria-bc8e8b0f.js";import"./el-overlay-9e31ebb7.js";import"./refs-03c5e3c6.js";import"./el-tooltip-4ed993c7.js";import"./el-input-number-aa0bf63c.js";import"./index-3ffe7cf2.js";import"./el-popover-af13e371.js";import"./dropdown-a0209b48.js";/* empty css                */import"./el-radio-53e4a21d.js";import"./el-tree-select-04f4c75d.js";import"./index-203fd0f4.js";import"./index-471e79b5.js";const te={class:"container-main"},ae={class:"table-main"},Ne=Q({__name:"index",setup(oe){const n=l({pageNum:1,pageSize:10}),g=l(!0),m=l(!1),p=l([]),b=()=>{n.value={pageNum:1,pageSize:10},s()},y=()=>{s()},s=async()=>{m.value=!0,Y(n.value).then(t=>{p.value=Z(t.data.list)||[],p.value,m.value=!1})},w=l([{label:"菜单名称",prop:"name",width:200,align:"left"},{label:"图标",prop:"iconPath",type:"slot",width:100},{label:"排序",prop:"sort",minWidth:100},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:t=>{var a;return e($,null,[e(u,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>_(t.row)},{default:()=>[e("span",{class:"table_link_text"},[i("新增")])]}),e(u,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>k(t.row)},{default:()=>[e("span",{class:"table_link_text"},[i("修改")])]}),!((a=t.row)!=null&&a.children)&&e(u,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>E(t.row)},{default:()=>[e("span",{class:"table_link_text"},[i("删除")])]})])}}]),c=l(null),_=t=>{c.value.openDialog({parentId:(t==null?void 0:t.id)||"0"})},k=t=>{c.value.openDialog(t)},E=({id:t})=>{K.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{X(t).then(a=>{a.code===0&&(R.success("删除成功"),s())})})};return j(()=>{s()}),(t,a)=>{const x=S,C=I,D=f("form-search"),B=W,P=F,T=L,V=M,z=f("Table"),N=ee;return d(),q("div",te,[e(G,{name:"fade"},{default:o(()=>[h(e(B,{model:n.value,inline:!0,"label-width":"auto",class:"search-form"},{default:o(()=>[e(C,{label:"菜单名称",prop:"name"},{default:o(()=>[e(x,{modelValue:n.value.name,"onUpdate:modelValue":a[0]||(a[0]=r=>n.value.name=r),placeholder:"请输入菜单名称",clearable:""},null,8,["modelValue"])]),_:1}),e(D,{onReset:b,onSearch:y})]),_:1},8,["model"]),[[A,g.value]])]),_:1}),U("div",ae,[e(V,{gutter:10,class:"mb8"},{default:o(()=>[e(T,{span:1.5},{default:o(()=>[e(P,{type:"primary",plain:"",icon:"plus",size:"small",onClick:a[1]||(a[1]=r=>_())},{default:o(()=>[i("新增")]),_:1})]),_:1})]),_:1}),h((d(),v(z,{data:p.value,"row-key":"id",columns:w.value},{iconPath:o(({scope:r})=>[r.row.iconPath?(d(),v(H(r.row.iconPath),{key:0,style:{height:"20px",width:"20px"}})):J("",!0)]),_:1},8,["data","columns"])),[[N,m.value]])]),e(O,{ref_key:"dataDialogRef",ref:c,onGetPageList:s},null,512)])}}});export{Ne as default};
