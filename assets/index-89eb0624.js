import{d as Oe,s as X}from"./pinia-52322b2a.js";import{g as Ue,s as Ce,u as ie,a as Te,b as j,r as Fe,c as ve,d as He}from"./admin-898c27d7.js";import{_ as Xe,r as D,f as Ie,E as Me,i as fe,z as Le,H as L,o as t,c as C,U as N,u,ah as v,a as x,V as o,P as i,X as Re,O as w,az as je,R as ne,S as I,F,a8 as J,a3 as oe,I as ae,j as V,aa as Ke,T as G,J as O,aA as Pe,w as le,K as De,h as Ee,aB as he,aC as ge,s as qe,a9 as te,n as Ge,Q as ue,W as de}from"./@vue-a1575c13.js";import{u as Ye}from"./useWatermark-87790308.js";import{a as P}from"./_plugin-vue_export-helper-35613cde.js";import{b as _e,u as pe,R as Je}from"./vue-router-d3b47234.js";import{R as Ze,S as Qe,T as et,U as tt,V as ot,m as st,n as nt,a as at,W as lt}from"./@element-plus-a2754369.js";import{c as ct}from"./path-to-regexp-6c7b4327.js";import{p as Ae}from"./path-browserify-0703bef1.js";import"./dayjs-f21ac596.js";import{E as ce,a as We}from"./element-plus-9e0ba5b8.js";import{_ as rt}from"./index.vue_vue_type_script_setup_true_lang-eee1abbf.js";import{s as ee}from"./screenfull-b3e6dc1f.js";import{j as it,d as ut}from"./lodash-es-21c98b27.js";import"./vue-demi-71ba0ef2.js";import"./js-cookie-454f167a.js";import"./axios-21b846bc.js";import"./mitt-f7ef348c.js";import"./nprogress-59cec3f7.js";/* empty css                      */import"./@vueuse-dd4353a1.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-f42edb2c.js";import"./normalize-wheel-es-95f93bcf.js";import"./@floating-ui-72671fae.js";var U=(n=>(n[n.Mobile=0]="Mobile",n[n.Desktop=1]="Desktop",n))(U||{});const dt="opened",Be="closed";function _t(n){n?Ce(dt):Ce(Be)}const Z=Oe("app",()=>{const n=Xe({opened:Ue()!==Be,withoutAnimation:!1}),e=D(U.Desktop);return Ie(()=>n.opened,c=>_t(c)),{device:e,sidebar:n,toggleSidebar:c=>{n.opened=!n.opened,n.withoutAnimation=c},closeSidebar:c=>{n.opened=!1,n.withoutAnimation=c},toggleDevice:c=>{e.value=c}}}),pt=992,mt=()=>{const n=Z(),{listenerRouteChange:e}=ie(),a=()=>document.body.getBoundingClientRect().width-1<pt,p=()=>{if(!document.hidden){const r=a();n.toggleDevice(r?U.Mobile:U.Desktop),r&&n.closeSidebar(!0)}};e(()=>{n.device===U.Mobile&&n.sidebar.opened&&n.closeSidebar(!1)}),Me(()=>{window.addEventListener("resize",p)}),fe(()=>{a()&&(n.toggleDevice(U.Mobile),n.closeSidebar(!0))}),Le(()=>{window.removeEventListener("resize",p)})},vt={class:"layout-footer"},ft=L({__name:"index",setup(n){const e={}.VITE_APP_TITLE;return(a,p)=>(t(),C("footer",vt,"MIT © 2021-PRESENT "+N(u(e)),1))}});const ht=P(ft,[["__scopeId","data-v-3f306cd8"]]),gt={class:"app-main"},bt={class:"app-scrollbar"},yt=L({__name:"AppMain",setup(n){const e=Te(),a=j();return(p,r)=>{const c=v("router-view"),d=v("el-backtop");return t(),C("section",gt,[x("div",bt,[o(c,null,{default:i(({Component:s,route:y})=>[o(Re,{name:"el-fade-in",mode:"out-in"},{default:i(()=>[(t(),w(je,{include:u(e).cachedViews},[(t(),w(ne(s),{key:y.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),u(a).showFooter?(t(),w(ht,{key:0})):I("",!0)]),o(d),o(d,{target:".app-scrollbar"})])}}});const be=P(yt,[["__scopeId","data-v-a992078b"]]),wt=L({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(n,{emit:e}){const a=n,p=e,r=()=>{p("toggleClick")};return(c,d)=>{const s=v("el-icon");return t(),C("div",{onClick:r},[o(s,{size:20,class:"icon"},{default:i(()=>[a.isActive?(t(),w(u(Ze),{key:0})):(t(),w(u(Qe),{key:1}))]),_:1})])}}});const kt=P(wt,[["__scopeId","data-v-64763e98"]]),xt={key:0,class:"no-redirect"},St=["onClick"],Ct=L({__name:"index",setup(n){const e=_e(),a=pe(),{listenerRouteChange:p}=ie(),r=D([]),c=()=>{r.value=e.matched.filter(y=>{var S,_;return((S=y.meta)==null?void 0:S.title)&&((_=y.meta)==null?void 0:_.breadcrumb)!==!1})},d=y=>ct(y)(e.params),s=y=>{const{redirect:S,path:_}=y;if(S){a.push(S);return}a.push(d(_))};return p(y=>{y.path.startsWith("/redirect/")||c()},!0),(y,S)=>{const _=v("el-breadcrumb-item"),m=v("el-breadcrumb");return t(),w(m,{class:"app-breadcrumb"},{default:i(()=>[(t(!0),C(F,null,J(r.value,(k,f)=>(t(),w(_,{key:k.path},{default:i(()=>[k.redirect==="noRedirect"||f===r.value.length-1?(t(),C("span",xt,N(k.meta.title),1)):(t(),C("a",{key:1,onClick:oe(h=>s(k),["prevent"])},N(k.meta.title),9,St))]),_:2},1024))),128))]),_:1})}}});const $t=P(Ct,[["__scopeId","data-v-0955ab73"]]),re=n=>/^(https?:|mailto:|tel:)/.test(n),Vt=["href"],Tt=L({__name:"SidebarItemLink",props:{to:{}},setup(n){const e=n;return(a,p)=>{const r=v("router-link");return u(re)(e.to)?(t(),C("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[ae(a.$slots,"default")],8,Vt)):(t(),w(r,{key:1,to:e.to},{default:i(()=>[ae(a.$slots,"default")]),_:3},8,["to"]))}}}),It={key:2},Mt=L({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(n){const e=n,a=V(()=>{var s;return(s=e.item.meta)==null?void 0:s.alwaysShow}),p=V(()=>{var s;return((s=e.item.children)==null?void 0:s.filter(y=>{var S;return!((S=y.meta)!=null&&S.hidden)}))??[]}),r=V(()=>p.value.length),c=V(()=>{const s=r.value;switch(!0){case s>1:return null;case s===1:return p.value[0];default:return{...e.item,path:""}}}),d=s=>{switch(!0){case re(s):return s;case re(e.basePath):return e.basePath;default:return Ae.resolve(e.basePath,s)}};return(s,y)=>{var f;const S=v("SvgIcon"),_=v("el-menu-item"),m=v("sidebar-item",!0),k=v("el-sub-menu");return(f=e.item.meta)!=null&&f.hidden?I("",!0):(t(),C("div",{key:0,class:O({"simple-mode":e.isCollapse&&!s.isTop,"first-level":e.isFirstLevel})},[!a.value&&c.value&&!c.value.children?(t(),C(F,{key:0},[c.value.meta?(t(),w(Tt,{key:0,to:d(c.value.path)},{default:i(()=>[o(_,{index:d(c.value.path)},Ke({default:i(()=>[c.value.meta.svgIcon?(t(),w(S,{key:0,name:c.value.meta.svgIcon},null,8,["name"])):c.value.meta.elIcon?(t(),w(ne(c.value.meta.elIcon),{key:1,class:"el-icon"})):I("",!0)]),_:2},[c.value.meta.title?{name:"title",fn:i(()=>[G(N(c.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):I("",!0)],64)):(t(),w(k,{key:1,index:d(e.item.path),teleported:""},{title:i(()=>{var h,g,M;return[(h=e.item.meta)!=null&&h.svgIcon?(t(),w(S,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(g=e.item.meta)!=null&&g.elIcon?(t(),w(ne(e.item.meta.elIcon),{key:1,class:"el-icon"})):I("",!0),(M=e.item.meta)!=null&&M.title?(t(),C("span",It,N(e.item.meta.title),1)):I("",!0)]}),default:i(()=>[e.item.children?(t(!0),C(F,{key:0},J(e.item.children,h=>(t(),w(m,{key:h.path,item:h,"is-collapse":e.isCollapse,"is-first-level":!1,"base-path":d(h.path)},null,8,["item","is-collapse","base-path"]))),128)):I("",!0)]),_:1},8,["index"]))],2))}}});const Lt=P(Mt,[["__scopeId","data-v-63216053"]]),Rt="/gxjh/assets/logo-cc70e06e.png",Pt="/gxjh/assets/logo-text-1-b6b0364d.png",Dt="/gxjh/assets/logo-text-2-eef467fb.png",Et=["src"],At=["src"],Wt=L({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(n){const e=n,a=j(),{layoutMode:p}=X(a);return(r,c)=>{const d=v("router-link");return t(),C("div",{class:O(["layout-logo-container",{collapse:e.collapse,"layout-mode-top":u(p)==="top"}])},[o(Re,{name:"layout-logo-fade"},{default:i(()=>[e.collapse?(t(),w(d,{key:"collapse",to:"/"},{default:i(()=>[x("img",{src:u(Rt),class:"layout-logo"},null,8,Et)]),_:1})):(t(),w(d,{key:"expand",to:"/"},{default:i(()=>[x("img",{src:u(p)!=="left"?u(Dt):u(Pt),class:"layout-logo-text"},null,8,At)]),_:1}))]),_:1})],2)}}});const ye=P(Wt,[["__scopeId","data-v-9689856f"]]),se=n=>{let e="";try{e=getComputedStyle(document.documentElement).getPropertyValue(n)}catch(a){console.error(a)}return e},$e=(n,e)=>{try{document.documentElement.style.setProperty(n,e)}catch(a){console.error(a)}},Bt=()=>{Fe(),location.reload()},Nt=L({__name:"index",setup(n){Pe(l=>({"7ffdcdd0":Q.value,"24acc9ba":T.value,"5b44ed08":K.value,"21ca6424":q.value,"240c5d37":z.value}));const e=se("--v3-sidebar-menu-bg-color"),a=se("--v3-sidebar-menu-text-color"),p=se("--v3-sidebar-menu-active-text-color"),r=_e(),c=Z(),d=ve(),s=j(),{sidebar:y,device:S}=X(c),{layoutMode:_,showLogo:m}=X(s),k=V(()=>{const{meta:{activeMenu:l},path:b}=r;return l||b}),f=V(()=>!y.value.opened),h=V(()=>_.value==="left"),g=V(()=>_.value==="top"),M=V(()=>S.value===U.Mobile),E=V(()=>h.value&&m.value),B=V(()=>h.value?e:void 0),R=V(()=>h.value?a:void 0),z=V(()=>h.value?p:void 0),K=V(()=>_.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),q=V(()=>_.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),Q=V(()=>_.value!=="top"?"2px":"0px"),T=V(()=>_.value==="top"?"none":"block");return(l,b)=>{const W=v("el-menu"),$=v("el-scrollbar");return t(),C("div",{class:O({"has-logo":E.value})},[E.value?(t(),w(ye,{key:0,collapse:f.value},null,8,["collapse"])):I("",!0),o($,{"wrap-class":"scrollbar-wrapper"},{default:i(()=>[o(W,{"default-active":k.value,collapse:f.value&&!g.value,"background-color":B.value,"text-color":R.value,"active-text-color":z.value,"unique-opened":!0,"collapse-transition":!1,mode:g.value&&!M.value?"horizontal":"vertical"},{default:i(()=>[(t(!0),C(F,null,J(u(d).routes,A=>(t(),w(Lt,{key:A.path,item:A,"base-path":A.path,"is-collapse":f.value,"is-top":g.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}});const we=P(Nt,[["__scopeId","data-v-308e6cf2"]]),zt={class:"card-header"},Ot={class:"card-title"},Ut={class:"card-time"},Ft={key:0,class:"card-avatar"},Ht=["src"],Xt={class:"card-body"},jt=L({__name:"NotifyList",props:{list:{}},setup(n){const e=n;return(a,p)=>{const r=v("el-empty"),c=v("el-tag"),d=v("el-card");return e.list.length===0?(t(),w(r,{key:0})):(t(!0),C(F,{key:1},J(e.list,(s,y)=>(t(),w(d,{key:y,shadow:"never",class:"card-container"},{header:i(()=>[x("div",zt,[x("div",null,[x("span",null,[x("span",Ot,N(s.title),1),s.extra?(t(),w(c,{key:0,type:s.status,effect:"plain",size:"small"},{default:i(()=>[G(N(s.extra),1)]),_:2},1032,["type"])):I("",!0)]),x("div",Ut,N(s.datetime),1)]),s.avatar?(t(),C("div",Ft,[x("img",{src:s.avatar,width:"34"},null,8,Ht)])):I("",!0)])]),default:i(()=>[x("div",Xt,N(s.description??"No Data"),1)]),_:2},1024))),128))}}});const Kt=P(jt,[["__scopeId","data-v-7611aaa4"]]),qt=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"一年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"两年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Gt=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Yt=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:""},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Jt={class:"notify"},Zt={class:"notify-history"},Ve=99,Qt=350,eo=L({__name:"index",setup(n){const e=V(()=>p.value.reduce((c,d)=>c+d.list.length,0)),a=D("通知"),p=D([{name:"通知",type:"primary",list:qt},{name:"消息",type:"danger",list:Gt},{name:"待办",type:"warning",list:Yt}]),r=()=>{ce.success(`跳转到${a.value}历史页面`)};return(c,d)=>{const s=v("el-icon"),y=v("el-tooltip"),S=v("el-badge"),_=v("el-scrollbar"),m=v("el-tab-pane"),k=v("el-tabs"),f=v("el-button"),h=v("el-popover");return t(),C("div",Jt,[o(h,{placement:"bottom",width:Qt,trigger:"click"},{reference:i(()=>[o(S,{value:e.value,max:Ve,hidden:e.value===0},{default:i(()=>[o(y,{effect:"dark",content:"消息通知",placement:"bottom"},{default:i(()=>[o(s,{size:20},{default:i(()=>[o(u(et))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:i(()=>[o(k,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=g=>a.value=g),class:"demo-tabs",stretch:""},{default:i(()=>[(t(!0),C(F,null,J(p.value,(g,M)=>(t(),w(m,{name:g.name,key:M},{label:i(()=>[G(N(g.name)+" ",1),o(S,{value:g.list.length,max:Ve,type:g.type},null,8,["value","type"])]),default:i(()=>[o(_,{height:"400px"},{default:i(()=>[o(Kt,{list:g.list},null,8,["list"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),x("div",Zt,[o(f,{link:"",onClick:r},{default:i(()=>[G("查看"+N(a.value)+"历史",1)]),_:1})])]),_:1})])}}});const to=P(eo,[["__scopeId","data-v-fec03c72"]]),oo=L({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(n){const e=n,a=D(!1),p=V(()=>a.value?e.exitTips:e.openTips),r=V(()=>a.value?"fullscreen-exit":"fullscreen"),c=()=>{const m=document.querySelector(e.element)||void 0;ee.isEnabled?ee.toggle(m):ce.warning("您的浏览器无法工作")},d=()=>{a.value=ee.isFullscreen};le(m=>{ee.on("change",d),m(()=>{ee.isEnabled&&ee.off("change",d)})});const s=D(!1),y=V(()=>s.value?"内容区复原":"内容区放大"),S=V(()=>s.value?"fullscreen-exit":"fullscreen"),_=()=>{document.body.className=s.value?"":"content-large",s.value=!s.value};return(m,k)=>{const f=v("SvgIcon"),h=v("el-tooltip"),g=v("el-dropdown-item"),M=v("el-dropdown-menu"),E=v("el-dropdown");return t(),C("div",null,[m.content?(t(),w(E,{key:1},{dropdown:i(()=>[o(M,null,{default:i(()=>[o(g,{onClick:_},{default:i(()=>[G(N(y.value),1)]),_:1}),o(g,{onClick:c,disabled:a.value},{default:i(()=>[G("内容区全屏")]),_:1},8,["disabled"])]),_:1})]),default:i(()=>[o(f,{name:S.value},null,8,["name"])]),_:1})):(t(),w(h,{key:0,effect:"dark",content:p.value,placement:"bottom"},{default:i(()=>[o(f,{name:r.value,onClick:c},null,8,["name"])]),_:1},8,["content"]))])}}});const Ne=P(oo,[["__scopeId","data-v-9700b35b"]]),so=["onMouseenter"],no={class:"result-item-title"},ao=L({__name:"SearchResult",props:{modelValue:{},list:{},isPressUpOrDown:{type:Boolean}},emits:["update:modelValue"],setup(n,{expose:e,emit:a}){const p=n,r=a,c=Ee(),d=D(0),s=V({get(){return p.modelValue},set(k){r("update:modelValue",k)}}),y=k=>{const f=k.name===s.value;return{background:f?"var(--el-color-primary)":"",color:f?"#fff":""}},S=k=>{p.isPressUpOrDown||(s.value=k.name)},_=()=>{d.value=Number((window.innerHeight*.4).toFixed(1))},m=k=>{var M;const f=(M=c==null?void 0:c.proxy)==null?void 0:M.$refs[`resultItemRef${k}`];if(!f)return 0;const g=f[0].offsetTop+128;return g>d.value?g-d.value:0};return Me(()=>{window.addEventListener("resize",_)}),fe(()=>{_()}),Le(()=>{window.removeEventListener("resize",_)}),e({getScrollTop:m}),(k,f)=>{const h=v("SvgIcon");return t(),C("div",null,[(t(!0),C(F,null,J(k.list,(g,M)=>{var E,B,R;return t(),C("div",{key:M,ref_for:!0,ref:`resultItemRef${M}`,class:"result-item",style:De(y(g)),onMouseenter:z=>S(g)},[(E=g.meta)!=null&&E.svgIcon?(t(),w(h,{key:0,name:g.meta.svgIcon},null,8,["name"])):(B=g.meta)!=null&&B.elIcon?(t(),w(ne(g.meta.elIcon),{key:1,class:"el-icon"})):I("",!0),x("span",no,N((R=g.meta)==null?void 0:R.title),1),s.value&&s.value===g.name?(t(),w(h,{key:2,name:"keyboard-enter"})):I("",!0)],44,so)}),128))])}}});const lo=P(ao,[["__scopeId","data-v-099b4a22"]]),ke=n=>(he("data-v-a170b7fb"),n=n(),ge(),n),co={class:"search-footer"},ro={class:"search-footer-item"},io=ke(()=>x("span",null,"确认",-1)),uo={class:"search-footer-item"},_o=ke(()=>x("span",null,"切换",-1)),po={class:"search-footer-item"},mo=ke(()=>x("span",null,"关闭",-1)),vo={class:"search-footer-total"},fo=L({__name:"SearchFooter",props:{total:{}},setup(n){const e=n,a=Z(),p=V(()=>a.device===U.Mobile);return(r,c)=>{const d=v("SvgIcon");return t(),C("div",co,[p.value?I("",!0):(t(),C(F,{key:0},[x("span",ro,[o(d,{name:"keyboard-enter"}),io]),x("span",uo,[o(d,{name:"keyboard-up"}),o(d,{name:"keyboard-down"}),_o]),x("span",po,[o(d,{name:"keyboard-esc"}),mo])],64)),x("span",vo,"共 "+N(e.total)+" 项",1)])}}});const ho=P(fo,[["__scopeId","data-v-a170b7fb"]]),go=x("p",null,"搜索结果",-1),bo=L({__name:"SearchModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:e}){const a=n,p=e,r=Z(),c=pe(),d=D(null),s=D(null),y=D(null),S=D(""),_=qe([]),m=D(void 0),k=D(!1),f=V(()=>r.device===U.Mobile?"80vw":"40vw"),h=V({get(){return a.modelValue},set(T){p("update:modelValue",T)}}),g=V(()=>it(ve().routes)),M=ut(()=>{var b;const T=E(g.value);_.value=T.filter(W=>{var $,A;return S.value?(A=($=W.meta)==null?void 0:$.title)==null?void 0:A.toLocaleLowerCase().includes(S.value.toLocaleLowerCase().trim()):!1});const l=(b=_.value)==null?void 0:b.length;m.value=l>0?_.value[0].name:void 0},500),E=(T,l=[])=>(T.forEach(b=>{l.push(b),b.children&&E(b.children,l)}),l),B=()=>{h.value=!1,setTimeout(()=>{S.value="",_.value=[]},200)},R=T=>{var b;if(!y.value)return;const l=y.value.getScrollTop(T);(b=s.value)==null||b.setScrollTop(l)},z=()=>{k.value=!0;const{length:T}=_.value;if(T===0)return;const l=_.value.findIndex(b=>b.name===m.value);if(l===0){const b=_.value[T-1].name;m.value===b&&T>1?(m.value=_.value[T-2].name,R(T-2)):(m.value=b,R(T-1))}else m.value=_.value[l-1].name,R(l-1)},K=()=>{k.value=!0;const{length:T}=_.value;if(T===0)return;const l=_.value.map(b=>b.name).lastIndexOf(m.value);if(l===T-1){const b=_.value[0].name;m.value===b&&T>1?(m.value=_.value[1].name,R(1)):(m.value=b,R(0))}else m.value=_.value[l+1].name,R(l+1)},q=()=>{var W;const{length:T}=_.value;if(T===0)return;const l=m.value,b=(W=_.value.find($=>$.name===l))==null?void 0:W.path;if(b&&re(b)){window.open(b,"_blank","noopener, noreferrer");return}if(!l){ce.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");return}try{c.push({name:l})}catch{ce.error("该菜单有必填的动态参数，无法通过搜索进入");return}B()},Q=()=>{k.value=!1};return(T,l)=>{const b=v("SvgIcon"),W=v("el-input"),$=v("el-empty"),A=v("el-dialog");return t(),w(A,{modelValue:h.value,"onUpdate:modelValue":l[2]||(l[2]=H=>h.value=H),onOpened:l[3]||(l[3]=H=>{var Y;return(Y=d.value)==null?void 0:Y.focus()}),onClosed:l[4]||(l[4]=H=>{var Y;return(Y=d.value)==null?void 0:Y.blur()}),onKeydown:[te(z,["up"]),te(K,["down"]),te(q,["enter"])],onKeyup:te(Q,["up","down"]),"before-close":B,width:f.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:i(()=>[o(ho,{total:_.value.length},null,8,["total"])]),default:i(()=>[o(W,{ref_key:"inputRef",ref:d,modelValue:S.value,"onUpdate:modelValue":l[0]||(l[0]=H=>S.value=H),onInput:u(M),placeholder:"搜索菜单",size:"large",clearable:""},{prefix:i(()=>[o(b,{name:"search"})]),_:1},8,["modelValue","onInput"]),_.value.length===0?(t(),w($,{key:0,description:"暂无搜索结果","image-size":100})):(t(),C(F,{key:1},[go,o(u(We),{ref_key:"scrollbarRef",ref:s,"max-height":"40vh",always:""},{default:i(()=>[o(lo,{ref_key:"searchResultRef",ref:y,modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=H=>m.value=H),list:_.value,isPressUpOrDown:k.value,onClick:q},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","onKeydown","onKeyup","width"])}}});const yo=L({__name:"index",setup(n){const e=D(!1),a=()=>{e.value=!0};return(p,r)=>{const c=v("SvgIcon"),d=v("el-tooltip");return t(),C("div",null,[o(d,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:i(()=>[o(c,{name:"search",onClick:a})]),_:1}),o(bo,{modelValue:e.value,"onUpdate:modelValue":r[0]||(r[0]=s=>e.value=s)},null,8,["modelValue"])])}}});const wo=P(yo,[["__scopeId","data-v-226ad4b5"]]),ko=n=>(he("data-v-8ba44c9a"),n=n(),ge(),n),xo={class:"navigation-bar"},So={class:"right-menu"},Co={class:"right-menu-avatar"},$o={target:"_blank",href:"https://github.com/un-pany/v3-admin-vite"},Vo={target:"_blank",href:"https://gitee.com/un-pany/v3-admin-vite"},To=ko(()=>x("span",{style:{display:"block"}},"退出登录",-1)),Io=L({__name:"index",setup(n){const e=pe(),a=Z(),p=j(),r=He(),{sidebar:c,device:d}=X(a),{layoutMode:s,showNotify:y,showThemeSwitch:S,showScreenfull:_,showSearchMenu:m}=X(p),k=V(()=>s.value==="top"),f=V(()=>d.value===U.Mobile),h=()=>{a.toggleSidebar(!1)},g=()=>{r.logout(),e.push("/login")};return(M,E)=>{const B=v("el-avatar"),R=v("el-dropdown-item"),z=v("el-dropdown-menu"),K=v("el-dropdown");return t(),C("div",xo,[!k.value||f.value?(t(),w(kt,{key:0,"is-active":u(c).opened,class:"hamburger",onToggleClick:h},null,8,["is-active"])):I("",!0),!k.value||f.value?(t(),w($t,{key:1,class:"breadcrumb"})):I("",!0),k.value&&!f.value?(t(),w(we,{key:2,class:"sidebar"})):I("",!0),x("div",So,[u(m)?(t(),w(wo,{key:0,class:"right-menu-item"})):I("",!0),u(_)?(t(),w(Ne,{key:1,class:"right-menu-item"})):I("",!0),u(S)?(t(),w(rt,{key:2,class:"right-menu-item"})):I("",!0),u(y)?(t(),w(to,{key:3,class:"right-menu-item"})):I("",!0),o(K,{class:"right-menu-item"},{dropdown:i(()=>[o(z,null,{default:i(()=>[x("a",$o,[o(R,null,{default:i(()=>[G("GitHub")]),_:1})]),x("a",Vo,[o(R,null,{default:i(()=>[G("Gitee")]),_:1})]),o(R,{divided:"",onClick:g},{default:i(()=>[To]),_:1})]),_:1})]),default:i(()=>[x("div",Co,[o(B,{icon:u(tt),size:30},null,8,["icon"]),x("span",null,N(u(r).username),1)])]),_:1})])])}}});const xe=P(Io,[["__scopeId","data-v-8ba44c9a"]]),Mo={class:"select-layout-mode"},Lo=L({__name:"SelectLayoutMode",setup(n){const e=j(),{layoutMode:a}=X(e),p=V(()=>a.value==="left"),r=V(()=>a.value==="top"),c=V(()=>a.value==="left-top");return(d,s)=>{const y=v("el-aside"),S=v("el-header"),_=v("el-main"),m=v("el-container"),k=v("el-tooltip");return t(),C("div",Mo,[o(k,{content:"左侧模式"},{default:i(()=>[o(m,{class:O(["layout-mode left",{active:p.value}]),onClick:s[0]||(s[0]=f=>a.value="left")},{default:i(()=>[o(y),o(m,null,{default:i(()=>[o(S),o(_)]),_:1})]),_:1},8,["class"])]),_:1}),o(k,{content:"顶部模式"},{default:i(()=>[o(m,{class:O(["layout-mode top",{active:r.value}]),onClick:s[1]||(s[1]=f=>a.value="top")},{default:i(()=>[o(S),o(_)]),_:1},8,["class"])]),_:1}),o(k,{content:"混合模式"},{default:i(()=>[o(m,{class:O(["layout-mode left-top",{active:c.value}]),onClick:s[2]||(s[2]=f=>a.value="left-top")},{default:i(()=>[o(S),o(m,null,{default:i(()=>[o(y),o(_)]),_:1})]),_:1},8,["class"])]),_:1})])}}});const Ro=P(Lo,[["__scopeId","data-v-84881485"]]),ze=n=>(he("data-v-54713be5"),n=n(),ge(),n),Po={class:"setting-container"},Do=ze(()=>x("h4",null,"布局配置",-1)),Eo=ze(()=>x("h4",null,"功能配置",-1)),Ao={class:"setting-name"},Wo=L({__name:"index",setup(n){const e=j(),{layoutMode:a,showTagsView:p,showLogo:r,fixedHeader:c,showFooter:d,showNotify:s,showThemeSwitch:y,showScreenfull:S,showSearchMenu:_,cacheTagsView:m,showWatermark:k,showGreyMode:f,showColorWeakness:h}=X(e),g={显示标签栏:p,"显示 Logo":r,"固定 Header":c,"显示页脚 Footer":d,显示消息通知:s,显示切换主题按钮:y,显示全屏按钮:S,显示搜索按钮:_,是否缓存标签栏:m,开启系统水印:k,显示灰色模式:f,显示色弱模式:h};return le(()=>{a.value!=="left"&&(c.value=!0)}),(M,E)=>{const B=v("el-divider"),R=v("el-switch"),z=v("el-button");return t(),C("div",Po,[Do,o(Ro),o(B),Eo,(t(),C(F,null,J(g,(K,q,Q)=>x("div",{class:"setting-item",key:Q},[x("span",Ao,N(q),1),o(R,{modelValue:K.value,"onUpdate:modelValue":T=>K.value=T,disabled:u(a)!=="left"&&q==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),o(z,{type:"danger",icon:u(ot),onClick:u(Bt)},{default:i(()=>[G("重 置")]),_:1},8,["icon","onClick"])])}}});const Bo=P(Wo,[["__scopeId","data-v-54713be5"]]),No={class:"scroll-container"},zo=200,Oo=L({__name:"ScrollPane",props:{tagRefs:{}},setup(n){const e=n,a=_e(),p=j(),{listenerRouteChange:r}=ie(),c=D(),d=D();let s=0;const y=({scrollLeft:f})=>{s=f},S=({deltaY:f})=>{/^-/.test(f.toString())?m("left"):m("right")},_=()=>{const f=d.value.clientWidth,h=c.value.wrapRef.clientWidth,g=f-h-s;return{scrollbarContentRefWidth:f,scrollbarRefWidth:h,lastDistance:g}},m=(f,h=zo)=>{let g=0;const{scrollbarContentRefWidth:M,scrollbarRefWidth:E,lastDistance:B}=_();E>M||(f==="left"?g=Math.max(0,s-h):g=Math.min(s+h,s+B),c.value.setScrollLeft(g))},k=()=>{const f=e.tagRefs;for(let h=0;h<f.length;h++)if(a.path===f[h].$props.to.path){const g=f[h].$el,M=g.offsetWidth,E=g.offsetLeft,{scrollbarRefWidth:B}=_();if(E<s){const z=s-E;m("left",z);return}const R=B+s-M;if(E>R){const z=E-R;m("right",z);return}}};return r(()=>{Ge(k)}),(f,h)=>{const g=v("el-icon");return t(),C("div",No,[o(g,{class:"arrow left",onClick:h[0]||(h[0]=M=>m("left"))},{default:i(()=>[o(u(st))]),_:1}),o(u(We),{ref_key:"scrollbarRef",ref:c,onWheelPassive:S,onScroll:y},{default:i(()=>[x("div",{ref_key:"scrollbarContentRef",ref:d,class:"scrollbar-content"},[ae(f.$slots,"default",{},void 0,!0)],512)]),_:3},512),o(g,{class:"arrow right",onClick:h[1]||(h[1]=M=>m("right"))},{default:i(()=>[o(u(nt))]),_:1}),u(p).showScreenfull?(t(),w(Ne,{key:0,element:".app-main",content:!0,class:"screenfull"})):I("",!0)])}}});const Uo=P(Oo,[["__scopeId","data-v-1d817195"]]),Fo={class:"tags-view-container"},Ho=L({__name:"index",setup(n){const e=Ee(),a=pe(),p=_e(),r=Te(),c=ve(),{listenerRouteChange:d}=ie(),s=D([]),y=D(!1),S=D(0),_=D(0),m=D({});let k=[];const f=l=>l.path===p.path,h=l=>{var b;return(b=l.meta)==null?void 0:b.affix},g=(l,b="/")=>{const W=[];return l.forEach($=>{if(h($)){const A=Ae.resolve(b,$.path);W.push({fullPath:A,path:A,name:$.name,meta:{...$.meta}})}if($.children){const A=g($.children,$.path);W.push(...A)}}),W},M=()=>{k=g(c.routes);for(const l of k)l.name&&r.addVisitedView(l)},E=l=>{l.name&&(r.addVisitedView(l),r.addCachedView(l))},B=l=>{r.delCachedView(l),a.replace({path:"/redirect"+l.path,query:l.query})},R=l=>{r.delVisitedView(l),r.delCachedView(l),f(l)&&q(r.visitedViews,l)},z=()=>{const l=m.value.fullPath;l!==p.path&&l!==void 0&&a.push(l),r.delOthersVisitedViews(m.value),r.delOthersCachedViews(m.value)},K=l=>{r.delAllVisitedViews(),r.delAllCachedViews(),!k.some(b=>b.path===p.path)&&q(r.visitedViews,l)},q=(l,b)=>{const W=l.slice(-1)[0],$=W==null?void 0:W.fullPath;$!==void 0?a.push($):b.name==="Dashboard"?a.push({path:"/redirect"+b.path,query:b.query}):a.push("/")},Q=(l,b)=>{const $=e.proxy.$el.getBoundingClientRect().left,H=e.proxy.$el.offsetWidth-105,Y=b.clientX-$+15;_.value=Y>H?H:Y,S.value=b.clientY,y.value=!0,m.value=l},T=()=>{y.value=!1};return Ie(y,l=>{l?document.body.addEventListener("click",T):document.body.removeEventListener("click",T)}),fe(()=>{M(),d(async l=>{E(l)},!0)}),(l,b)=>{const W=v("el-icon");return t(),C("div",Fo,[o(Uo,{class:"tags-view-wrapper","tag-refs":s.value},{default:i(()=>[(t(!0),C(F,null,J(u(r).visitedViews,$=>(t(),w(u(Je),{ref_for:!0,ref_key:"tagRefs",ref:s,key:$.path,class:O([{active:f($)},"tags-view-item"]),to:{path:$.path,query:$.query},onMouseup:oe(A=>!h($)&&R($),["middle"]),onContextmenu:oe(A=>Q($,A),["prevent"])},{default:i(()=>{var A;return[G(N((A=$.meta)==null?void 0:A.title)+" ",1),h($)?I("",!0):(t(),w(W,{key:0,size:12,onClick:oe(H=>R($),["prevent","stop"])},{default:i(()=>[o(u(at))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),ue(x("ul",{class:"contextmenu",style:De({left:_.value+"px",top:S.value+"px"})},[x("li",{onClick:b[0]||(b[0]=$=>B(m.value))},"刷新"),h(m.value)?I("",!0):(t(),C("li",{key:0,onClick:b[1]||(b[1]=$=>R(m.value))},"关闭")),x("li",{onClick:z},"关闭其它"),x("li",{onClick:b[2]||(b[2]=$=>K(m.value))},"关闭所有")],4),[[de,y.value]])])}}});const Se=P(Ho,[["__scopeId","data-v-71c2f37b"]]),Xo=L({__name:"index",props:{buttonTop:{default:350}},setup(n){Pe(r=>({"8c5102d8":a}));const a=n.buttonTop+"px",p=D(!1);return(r,c)=>{const d=v("el-icon"),s=v("el-drawer");return t(),C(F,null,[x("div",{class:"handle-button",onClick:c[0]||(c[0]=y=>p.value=!0)},[o(d,{size:24},{default:i(()=>[o(u(lt))]),_:1})]),o(s,{modelValue:p.value,"onUpdate:modelValue":c[1]||(c[1]=y=>p.value=y),size:"300px","with-header":!1},{default:i(()=>[ae(r.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}});const jo=P(Xo,[["__scopeId","data-v-eb9bfafc"]]),Ko=L({__name:"LeftMode",setup(n){const e=Z(),a=j(),{showTagsView:p,fixedHeader:r}=X(a),c=V(()=>({hideSidebar:!e.sidebar.opened,openSidebar:e.sidebar.opened,withoutAnimation:e.sidebar.withoutAnimation,mobile:e.device===U.Mobile})),d=()=>{e.closeSidebar(!1)};return(s,y)=>(t(),C("div",{class:O([c.value,"app-wrapper"])},[c.value.mobile&&c.value.openSidebar?(t(),C("div",{key:0,class:"drawer-bg",onClick:d})):I("",!0),o(u(we),{class:"sidebar-container"}),x("div",{class:O([{hasTagsView:u(p)},"main-container"])},[x("div",{class:O([{"fixed-header":u(r)},"layout-header"])},[o(u(xe)),ue(o(u(Se),null,null,512),[[de,u(p)]])],2),o(u(be),{class:"app-main"})],2)],2))}});const qo=P(Ko,[["__scopeId","data-v-6872c40e"]]),Go={class:"app-wrapper"},Yo={class:"fixed-header layout-header"},Jo={class:"content"},Zo=L({__name:"TopMode",setup(n){const e=j(),{showTagsView:a,showLogo:p}=X(e);return(r,c)=>(t(),C("div",Go,[x("div",Yo,[x("div",Jo,[u(p)?(t(),w(u(ye),{key:0,collapse:!1,class:"logo"})):I("",!0),o(u(xe),{class:"navigation-bar"})]),ue(o(u(Se),null,null,512),[[de,u(a)]])]),x("div",{class:O([{hasTagsView:u(a)},"main-container"])},[o(u(be),{class:"app-main"})],2)]))}});const Qo=P(Zo,[["__scopeId","data-v-f2a706fe"]]),es={class:"fixed-header layout-header"},ts={class:"content"},os=L({__name:"LeftTopMode",setup(n){const e=Z(),a=j(),{showTagsView:p,showLogo:r}=X(a),c=V(()=>({hideSidebar:!e.sidebar.opened}));return(d,s)=>(t(),C("div",{class:O([c.value,"app-wrapper"])},[x("div",es,[u(r)?(t(),w(u(ye),{key:0,collapse:!1,class:"logo"})):I("",!0),x("div",ts,[o(u(xe)),ue(o(u(Se),null,null,512),[[de,u(p)]])])]),x("div",{class:O([{hasTagsView:u(p)},"main-container"])},[o(u(we),{class:"sidebar-container"}),o(u(be),{class:"app-main"})],2)],2))}});const ss=P(os,[["__scopeId","data-v-c66016a6"]]),me="--v3-tagsview-height",ns=L({__name:"index",setup(n){mt();const{setWatermark:e,clearWatermark:a}=Ye(),p=Z(),r=j(),{showSettings:c,layoutMode:d,showTagsView:s,showWatermark:y,showGreyMode:S,showColorWeakness:_}=X(r),m=V(()=>({showGreyMode:S.value,showColorWeakness:_.value})),k=se(me);return le(()=>{s.value?$e(me,k):$e(me,"0px")}),le(()=>{y.value?e({}.VITE_APP_TITLE):a()}),(f,h)=>(t(),C("div",{class:O(m.value)},[u(d)==="left"||u(p).device===u(U).Mobile?(t(),w(qo,{key:0})):u(d)==="top"?(t(),w(Qo,{key:1})):u(d)==="left-top"?(t(),w(ss,{key:2})):I("",!0),u(c)?(t(),w(u(jo),{key:3},{default:i(()=>[o(u(Bo))]),_:1})):I("",!0)],2))}});const Ps=P(ns,[["__scopeId","data-v-6988c834"]]);export{Ps as default};
