import{L as N}from"./el-button-534f93ec.js";/* empty css                   */import{E as F,a as M}from"./el-col-af40c86f.js";/* empty css                */import{d as R,f as S,n as I,o as W}from"./admin-d15e446e.js";import{E as u,a as Q}from"./el-link-b795f2cd.js";import{d as $,r as l,k as e,ay as i,F as q,o as A,v as f,y as d,A as G,B as o,C as h,D as K,I as U,E as j,x as v,aw as H,K as J}from"./viewer-71a6cc7b.js";import{_ as O}from"./dataDialog.vuevuetypescriptsetuptruelang-38754332.js";import{d as X,g as Y}from"./index-484f3c2f.js";import{a as Z}from"./index-b7dce1f7.js";import{v as ee}from"./directive-44e37452.js";import"./el-popper-5f9a363e.js";import"./debounce-e240d589.js";import"./index-07157569.js";import"./vnode-d45677e0.js";import"./aria-bc8e8b0f.js";import"./el-overlay-56edc591.js";import"./refs-45d3232c.js";import"./el-tooltip-4ed993c7.js";import"./el-input-number-9046f3aa.js";import"./index-65fc4267.js";import"./el-popover-9cba069b.js";import"./dropdown-c6e39e02.js";/* empty css                */import"./el-radio-2d139b26.js";import"./el-tree-select-4038975f.js";import"./index-c21c62e8.js";import"./index-b59c1af4.js";import"./service copy-fb1d097e.js";const te={class:"container-main"},ae={class:"table-main"},Ne=$({__name:"index",setup(oe){const n=l({pageNum:1,pageSize:10}),g=l(!0),m=l(!1),p=l([]),b=()=>{n.value={pageNum:1,pageSize:10},s()},y=()=>{s()},s=async()=>{m.value=!0,Y(n.value).then(t=>{p.value=Z(t.data.list)||[],p.value,m.value=!1})},w=l([{label:"菜单名称",prop:"name",width:200,align:"left"},{label:"图标",prop:"iconPath",type:"slot",width:100},{label:"排序",prop:"sort",minWidth:100},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:t=>{var a;return e(q,null,[e(u,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Plus",onClick:()=>_(t.row)},{default:()=>[e("span",{class:"table_link_text"},[i("新增")])]}),e(u,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>k(t.row)},{default:()=>[e("span",{class:"table_link_text"},[i("修改")])]}),!((a=t.row)!=null&&a.children)&&e(u,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>E(t.row)},{default:()=>[e("span",{class:"table_link_text"},[i("删除")])]})])}}]),c=l(null),_=t=>{c.value.openDialog({parentId:(t==null?void 0:t.id)||"0"})},k=t=>{c.value.openDialog(t)},E=({id:t})=>{Q.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{X(t).then(a=>{a.code===0&&(R.success("删除成功"),s())})})};return A(()=>{s()}),(t,a)=>{const x=S,C=I,D=f("form-search"),B=W,P=N,T=F,V=M,z=f("Table"),L=ee;return d(),G("div",te,[e(U,{name:"fade"},{default:o(()=>[h(e(B,{model:n.value,inline:!0,"label-width":"auto",class:"search-form"},{default:o(()=>[e(C,{label:"菜单名称",prop:"name"},{default:o(()=>[e(x,{modelValue:n.value.name,"onUpdate:modelValue":a[0]||(a[0]=r=>n.value.name=r),placeholder:"请输入菜单名称",clearable:""},null,8,["modelValue"])]),_:1}),e(D,{onReset:b,onSearch:y})]),_:1},8,["model"]),[[K,g.value]])]),_:1}),j("div",ae,[e(V,{gutter:10,class:"mb8"},{default:o(()=>[e(T,{span:1.5},{default:o(()=>[e(P,{type:"primary",plain:"",icon:"plus",size:"small",onClick:a[1]||(a[1]=r=>_())},{default:o(()=>[i("新增")]),_:1})]),_:1})]),_:1}),h((d(),v(z,{data:p.value,"row-key":"id",columns:w.value},{iconPath:o(({scope:r})=>[r.row.iconPath?(d(),v(H(r.row.iconPath),{key:0,style:{height:"20px",width:"20px"}})):J("",!0)]),_:1},8,["data","columns"])),[[L,m.value]])]),e(O,{ref_key:"dataDialogRef",ref:c,onGetPageList:s},null,512)])}}});export{Ne as default};
