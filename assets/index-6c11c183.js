import{e as k,aC as C,k as f,A as z,r as s,P as U,q as e,Q as c,v as a,ak as q,aG as B,aH as F,o as I,x as d,af as M,a8 as R,b as S}from"./plugin-vueexport-helper-81f579ed.js";import{x as A,y as K,z as N,A as L,B as j,C as D,n as E}from"./admin-6b9b2020.js";import{_ as G}from"./index.vuevuetypescriptsetuptruelang-f14bebe8.js";const H="/gxjh/assets/logo-text-2-eef467fb.png",P=i=>(B("data-v-441f5d87"),i=i(),F(),i),Q={class:"login-container"},T={class:"login-card"},$=P(()=>c("div",{class:"title"},[c("img",{src:H})],-1)),J={class:"content"},O=k({__name:"index",setup(i){const v=C(),g=f(null),u=f(!1),p=f(""),o=z({username:"admin",password:"12345678",code:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},x=()=>{var l;(l=g.value)==null||l.validate((t,r)=>{t?(u.value=!0,E().login(o).then(()=>{v.push({path:"/dashboard"})}).catch(()=>{m(),o.password=""}).finally(()=>{u.value=!1})):console.error("表单校验不通过",r)})},m=()=>{o.code="",p.value="",A().then(l=>{p.value=l.data})};return m(),(l,t)=>{const r=s("el-input"),_=s("el-form-item"),h=s("el-icon"),y=s("el-image"),b=s("el-button"),V=s("el-form");return I(),U("div",Q,[e(G,{class:"theme-switch"}),c("div",T,[$,c("div",J,[e(V,{ref_key:"loginFormRef",ref:g,model:o,rules:w,onKeyup:q(x,["enter"])},{default:a(()=>[e(_,{prop:"username"},{default:a(()=>[e(r,{modelValue:o.username,"onUpdate:modelValue":t[0]||(t[0]=n=>o.username=n),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":d(K),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{prop:"password"},{default:a(()=>[e(r,{modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=n=>o.password=n),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":d(N),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{prop:"code"},{default:a(()=>[e(r,{modelValue:o.code,"onUpdate:modelValue":t[2]||(t[2]=n=>o.code=n),modelModifiers:{trim:!0},placeholder:"验证码",type:"text",tabindex:"3","prefix-icon":d(L),maxlength:"7",size:"large"},{append:a(()=>[e(y,{src:p.value,onClick:m,draggable:"false"},{placeholder:a(()=>[e(h,null,{default:a(()=>[e(d(j))]),_:1})]),error:a(()=>[e(h,null,{default:a(()=>[e(d(D))]),_:1})]),_:1},8,["src"])]),_:1},8,["modelValue","prefix-icon"])]),_:1}),e(b,{loading:u.value,type:"primary",size:"large",onClick:M(x,["prevent"])},{default:a(()=>[R("登 录")]),_:1},8,["loading","onClick"])]),_:1},8,["model","onKeyup"])])])])}}});const Z=S(O,[["__scopeId","data-v-441f5d87"]]);export{Z as default};
