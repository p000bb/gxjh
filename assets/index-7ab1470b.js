import{H as C,r as f,_ as k,ah as a,c as U,V as e,a as p,P as t,a9 as z,aB as B,aC as F,o as I,u as n,a3 as M,T as R}from"./@vue-a1575c13.js";import{u as S}from"./vue-router-d3b47234.js";import{e as q,d as K}from"./admin-898c27d7.js";import{X as N,Y as L,Z as T,_ as j,l as A}from"./@element-plus-a2754369.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-eee1abbf.js";import{a as E}from"./_plugin-vue_export-helper-35613cde.js";import"./element-plus-9e0ba5b8.js";import"./lodash-es-21c98b27.js";import"./@vueuse-dd4353a1.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f21ac596.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-f42edb2c.js";import"./normalize-wheel-es-95f93bcf.js";import"./@floating-ui-72671fae.js";import"./pinia-52322b2a.js";import"./vue-demi-71ba0ef2.js";import"./js-cookie-454f167a.js";import"./axios-21b846bc.js";import"./mitt-f7ef348c.js";import"./nprogress-59cec3f7.js";/* empty css                      */const H="/gxjh/assets/logo-text-2-eef467fb.png",P=d=>(B("data-v-441f5d87"),d=d(),F(),d),X={class:"login-container"},Y={class:"login-card"},Z=P(()=>p("div",{class:"title"},[p("img",{src:H})],-1)),$={class:"content"},G=C({__name:"index",setup(d){const v=S(),g=f(null),m=f(!1),u=f(""),o=k({username:"admin",password:"12345678",code:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},x=()=>{var s;(s=g.value)==null||s.validate((r,l)=>{r?(m.value=!0,K().login(o).then(()=>{v.push({path:"/dashboard"})}).catch(()=>{c(),o.password=""}).finally(()=>{m.value=!1})):console.error("表单校验不通过",l)})},c=()=>{o.code="",u.value="",q().then(s=>{u.value=s.data})};return c(),(s,r)=>{const l=a("el-input"),_=a("el-form-item"),h=a("el-icon"),y=a("el-image"),V=a("el-button"),b=a("el-form");return I(),U("div",X,[e(D,{class:"theme-switch"}),p("div",Y,[Z,p("div",$,[e(b,{ref_key:"loginFormRef",ref:g,model:o,rules:w,onKeyup:z(x,["enter"])},{default:t(()=>[e(_,{prop:"username"},{default:t(()=>[e(l,{modelValue:o.username,"onUpdate:modelValue":r[0]||(r[0]=i=>o.username=i),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":n(N),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{prop:"password"},{default:t(()=>[e(l,{modelValue:o.password,"onUpdate:modelValue":r[1]||(r[1]=i=>o.password=i),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":n(L),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{prop:"code"},{default:t(()=>[e(l,{modelValue:o.code,"onUpdate:modelValue":r[2]||(r[2]=i=>o.code=i),modelModifiers:{trim:!0},placeholder:"验证码",type:"text",tabindex:"3","prefix-icon":n(T),maxlength:"7",size:"large"},{append:t(()=>[e(y,{src:u.value,onClick:c,draggable:"false"},{placeholder:t(()=>[e(h,null,{default:t(()=>[e(n(j))]),_:1})]),error:t(()=>[e(h,null,{default:t(()=>[e(n(A))]),_:1})]),_:1},8,["src"])]),_:1},8,["modelValue","prefix-icon"])]),_:1}),e(V,{loading:m.value,type:"primary",size:"large",onClick:M(x,["prevent"])},{default:t(()=>[R("登 录")]),_:1},8,["loading","onClick"])]),_:1},8,["model","onKeyup"])])])])}}});const we=E(G,[["__scopeId","data-v-441f5d87"]]);export{we as default};
