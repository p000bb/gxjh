/* empty css             *//* empty css                   */import{E as F,a as L}from"./el-col-c5c2ade1.js";import{E as I}from"./el-button-b054d70c.js";/* empty css                */import{E as P,a as M}from"./el-form-item-c56bbdeb.js";import{E as U}from"./el-input-351b3524.js";import{E as f}from"./el-link-bb4a05fd.js";import{d as W,r as l,k as e,ag as u,F as G,o as Q,v as d,y as q,A,B as r,C as c,D as g,I as $,E as j}from"./viewer-a917d3a0.js";import H from"./dataDialog-37cf6bd0.js";import{d as J,g as K}from"./index-b53b12f3.js";import{a as O}from"./index-a88dba86.js";import{E as X}from"./index-84823748.js";import{G as Y}from"./user-9279ed61.js";import{v as Z}from"./directive-a7cdde23.js";import"./use-form-item-a2dc758c.js";import"./use-form-common-props-957cc35c.js";import"./index-9899f039.js";import"./castArray-4f8be612.js";import"./error-f1912ce6.js";import"./_baseClone-be1d75cf.js";import"./_getTag-fe467e82.js";import"./el-overlay-b9b364f0.js";import"./index-09bc554b.js";import"./scroll-77ba8cf1.js";import"./vnode-37301cb0.js";import"./focus-trap-f79590ca.js";import"./refs-3c71427a.js";/* empty css                    */import"./index-89576dc5.js";import"./index-4af75670.js";import"./index-e005e917.js";import"./index-a4449389.js";import"./isEqual-7c3b890c.js";import"./hasIn-246c5c0e.js";import"./flatten-af461ab7.js";import"./aria-bc8e8b0f.js";import"./validator-6c2b9956.js";const ee={class:"container-main"},te={class:"table-main"},Ge=W({__name:"index",setup(ae){const o=l({pageNum:1,pageSize:10}),v=l(!0),s=l(!1),_=l([]),m=l(0),b=()=>{o.value={pageNum:1,pageSize:10},n()},E=()=>{n()},n=async()=>{s.value=!0,K(o.value).then(a=>{_.value=O(a.data.list)||[],m.value=parseInt(a.data.total),s.value=!1})},h=l([{label:"角色名称",prop:"name",width:200},{label:"备注",prop:"remark",minWidth:200},{label:"创建时间",prop:"createTime",minWidth:200},{label:"更新时间",prop:"updateTime",minWidth:200},{label:"操作",prop:"option",fixed:"right",width:200,render:a=>{var t;return e(G,null,[e(f,{class:"table_link_btn",underline:!1,size:"small",type:"primary",icon:"Edit",onClick:()=>w(a.row)},{default:()=>[e("span",{class:"table_link_text"},[u("修改")])]}),!((t=a.row)!=null&&t.children)&&e(f,{class:"table_link_btn",underline:!1,size:"small",type:"danger",icon:"Remove",onClick:()=>y(a.row)},{default:()=>[e("span",{class:"table_link_text"},[u("删除")])]})])}}]),p=l(null),k=()=>{p.value.openDialog()},w=a=>{p.value.openDialog(a)},y=({id:a})=>{X.confirm("是否删除该条数据",{title:"警告",type:"warning"}).then(()=>{J(a).then(t=>{t.code===0&&(Y.success("删除成功"),n())})})};return Q(()=>{n()}),(a,t)=>{const D=U,x=P,C=d("form-search"),T=M,z=I,N=F,R=L,S=d("Table"),B=d("pagination"),V=Z;return q(),A("div",ee,[e($,{name:"fade"},{default:r(()=>[c(e(T,{model:o.value,inline:!0,"label-width":"auto",class:"search-form"},{default:r(()=>[e(x,{label:"角色名称",prop:"name"},{default:r(()=>[e(D,{modelValue:o.value.name,"onUpdate:modelValue":t[0]||(t[0]=i=>o.value.name=i),placeholder:"请输入角色名称",clearable:""},null,8,["modelValue"])]),_:1}),e(C,{onReset:b,onSearch:E})]),_:1},8,["model"]),[[g,v.value]])]),_:1}),j("div",te,[e(R,{gutter:10,class:"mb8"},{default:r(()=>[e(N,{span:1.5},{default:r(()=>[e(z,{type:"primary",plain:"",icon:"plus",size:"small",onClick:t[1]||(t[1]=i=>k())},{default:r(()=>[u("新增")]),_:1})]),_:1})]),_:1}),c(e(S,{data:_.value,"row-key":"id",columns:h.value},null,8,["data","columns"]),[[V,s.value]]),c(e(B,{total:m.value,page:o.value.pageNum,"onUpdate:page":t[2]||(t[2]=i=>o.value.pageNum=i),limit:o.value.pageSize,"onUpdate:limit":t[3]||(t[3]=i=>o.value.pageSize=i),onPagination:n},null,8,["total","page","limit"]),[[g,m.value>0]])]),e(H,{ref_key:"dataDialogRef",ref:p,onGetPageList:n},null,512)])}}});export{Ge as default};
